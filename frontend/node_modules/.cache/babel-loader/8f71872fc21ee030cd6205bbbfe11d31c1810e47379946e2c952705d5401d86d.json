{"ast":null,"code":"import * as React from 'react';\nimport { useRef, useState, useEffect } from 'react';\nimport { ResizeSensor } from 'css-element-queries';\nimport * as PropTypes from 'prop-types';\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\nvar css_248z = \".spaces-centered,.spaces-centered-vertically{position:relative;top:50%;transform:translateY(-50%)}.spaces-centered{text-align:center}.spaces-clearfix:after{content:\\\"\\\";display:table;clear:both}.spaces-resize-handle{position:absolute;z-index:9999;background:transparent}.spaces-resize-handle:before{content:\\\"\\\";position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}.spaces-resize-handle:after{content:\\\"\\\";position:absolute;z-index:1}.spaces-touch-handle{position:absolute;z-index:9998;pointer-events:all;background:transparent}.spaces-resize-handle.resize-left:before{cursor:w-resize}.spaces-resize-handle.resize-top-left:before{cursor:nw-resize}.spaces-resize-handle.resize-right:before{cursor:e-resize}.spaces-resize-handle.resize-top-right:before{cursor:ne-resize}.spaces-resize-handle.resize-top:before{cursor:n-resize}.spaces-resize-handle.resize-bottom:before{cursor:s-resize}.spaces-resize-handle.resize-bottom-left:before{cursor:sw-resize}.spaces-resize-handle.resize-bottom-right:before{cursor:se-resize}.spaces-space{overflow:hidden;touch-action:none;box-sizing:border-box}.spaces-resizing .spaces-space{transition:none!important}.spaces-space .spaces-space-inner{position:absolute;left:0;top:0;right:0;bottom:0;box-sizing:border-box}.spaces-space.scrollable .spaces-space-inner{overflow:auto;touch-action:auto}\";\nstyleInject(css_248z);\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nvar Type;\n(function (Type) {\n  Type[\"ViewPort\"] = \"viewport\";\n  Type[\"Fixed\"] = \"fixed\";\n  Type[\"Fill\"] = \"fill\";\n  Type[\"Positioned\"] = \"positioned\";\n  Type[\"Anchored\"] = \"anchored\";\n  Type[\"Custom\"] = \"custom\";\n})(Type || (Type = {}));\nvar AnchorType;\n(function (AnchorType) {\n  AnchorType[\"Left\"] = \"anchor-left\";\n  AnchorType[\"Right\"] = \"anchor-right\";\n  AnchorType[\"Top\"] = \"anchor-top\";\n  AnchorType[\"Bottom\"] = \"anchor-bottom\";\n})(AnchorType || (AnchorType = {}));\nvar Orientation;\n(function (Orientation) {\n  Orientation[Orientation[\"Horizontal\"] = 0] = \"Horizontal\";\n  Orientation[Orientation[\"Vertical\"] = 1] = \"Vertical\";\n})(Orientation || (Orientation = {}));\nvar ResizeType;\n(function (ResizeType) {\n  ResizeType[\"All\"] = \"resize-all\";\n  ResizeType[\"Left\"] = \"resize-left\";\n  ResizeType[\"Right\"] = \"resize-right\";\n  ResizeType[\"Top\"] = \"resize-top\";\n  ResizeType[\"Bottom\"] = \"resize-bottom\";\n  ResizeType[\"TopLeft\"] = \"resize-topleft\";\n  ResizeType[\"TopRight\"] = \"resize-topright\";\n  ResizeType[\"BottomLeft\"] = \"resize-bottomleft\";\n  ResizeType[\"BottomRight\"] = \"resize-bottomright\";\n})(ResizeType || (ResizeType = {}));\nvar ResizeHandlePlacement;\n(function (ResizeHandlePlacement) {\n  ResizeHandlePlacement[\"OverlayInside\"] = \"overlay-inside\";\n  ResizeHandlePlacement[\"Inside\"] = \"inside\";\n  ResizeHandlePlacement[\"OverlayBoundary\"] = \"overlay-boundary\";\n})(ResizeHandlePlacement || (ResizeHandlePlacement = {}));\nvar CenterType;\n(function (CenterType) {\n  CenterType[\"None\"] = \"none\";\n  CenterType[\"Vertical\"] = \"vertical\";\n  CenterType[\"HorizontalVertical\"] = \"horizontalVertical\";\n})(CenterType || (CenterType = {}));\nvar MoveEvent;\n(function (MoveEvent) {\n  MoveEvent[\"Mouse\"] = \"mousemove\";\n  MoveEvent[\"Touch\"] = \"touchmove\";\n})(MoveEvent || (MoveEvent = {}));\nvar EndEvent;\n(function (EndEvent) {\n  EndEvent[\"Mouse\"] = \"mouseup\";\n  EndEvent[\"Touch\"] = \"touchend\";\n})(EndEvent || (EndEvent = {}));\nfunction omit(object) {\n  var keys = [];\n  for (var _i = 1; _i < arguments.length; _i++) {\n    keys[_i - 1] = arguments[_i];\n  }\n  var keySet = Object.create(null);\n  keys.forEach(function (key) {\n    keySet[key] = true;\n  });\n  var result = Object.create(null);\n  Object.keys(object).forEach(function (key) {\n    if (!keySet[key]) {\n      result[key] = object[key];\n    }\n  });\n  return result;\n}\nfunction shortuuid() {\n  var firstPart = Math.random() * 46656 | 0;\n  var secondPart = Math.random() * 46656 | 0;\n  return (\"000\" + firstPart.toString(36)).slice(-3) + (\"000\" + secondPart.toString(36)).slice(-3);\n}\nfunction getSizeString(size) {\n  return typeof size === \"string\" ? size : size + \"px\";\n}\nfunction css(size, dontAddCalc) {\n  if (size.size === 0 && size.adjusted.length === 0 && size.resized === 0) {\n    return \"0px\";\n  }\n  var parts = [];\n  if (size.size !== undefined) {\n    parts.push(getSizeString(size.size));\n  }\n  size.adjusted.forEach(function (l) {\n    return parts.push(getSizeString(l));\n  });\n  if (size.resized !== 0) {\n    parts.push(getSizeString(size.resized));\n  }\n  if (parts.length === 0) {\n    return undefined;\n  }\n  if (parts.length === 1) {\n    return parts[0];\n  }\n  if (dontAddCalc) {\n    return parts.join(\" + \");\n  }\n  return \"calc(\" + parts.join(\" + \") + \")\";\n}\nfunction coalesce() {\n  var args = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n  return args.find(function (x) {\n    return x !== null && x !== undefined;\n  });\n}\nfunction adjustmentsEqual(item1, item2) {\n  if (item1.length !== item2.length) {\n    return false;\n  }\n  for (var i = 0, len = item1.length; i < len; i++) {\n    if (item1[i] !== item2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction throttle(callback, limit) {\n  var wait = false; // Initially, we're not waiting\n  return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    // We return a throttled function\n    if (!wait) {\n      // If we're not waiting\n      callback.apply(void 0, args); // Execute users function\n      wait = true; // Prevent future invocations\n      setTimeout(function () {\n        // After a period of time\n        wait = false; // And allow future invocations\n      }, limit);\n    }\n  };\n}\nfunction styleDefinition(space) {\n  var cssElements = [];\n  var style = {\n    position: space.position,\n    left: css(space.left),\n    top: css(space.top),\n    right: css(space.right),\n    bottom: css(space.bottom),\n    width: css(space.width),\n    height: css(space.height),\n    zIndex: space.zIndex\n  };\n  var cssString = [];\n  if (style.position) {\n    cssString.push(\"position: \" + style.position + \";\");\n  }\n  if (style.left) {\n    cssString.push(\"left: \" + style.left + \";\");\n  }\n  if (style.top) {\n    cssString.push(\"top: \" + style.top + \";\");\n  }\n  if (style.right) {\n    cssString.push(\"right: \" + style.right + \";\");\n  }\n  if (style.bottom) {\n    cssString.push(\"bottom: \" + style.bottom + \";\");\n  }\n  if (style.width) {\n    cssString.push(\"width: \" + style.width + \";\");\n  }\n  if (style.height) {\n    cssString.push(\"height: \" + style.height + \";\");\n  }\n  if (style.zIndex) {\n    cssString.push(\"z-index: \" + style.zIndex + \";\");\n  }\n  if (space.allowOverflow) {\n    cssString.push(\"overflow: visible;\");\n  }\n  if (cssString.length > 0) {\n    cssElements.push(\"#\" + space.id + \" { \" + cssString.join(\" \") + \" }\");\n  }\n  if (space.scrollable) {\n    cssElements.push(\"#\" + space.id + \" > .spaces-space-inner { overflow: auto; touch-action: auto; }\");\n  }\n  var nhandleOffset = 0;\n  var handleSize = space.handleSize + \"px\";\n  var touchHandleSize = \"-\" + (space.touchHandleSize / 2 - space.handleSize / 2) + \"px\";\n  var negativeTouchHandleSize = space.touchHandleSize / 2 - space.handleSize / 2 + \"px\";\n  switch (space.handlePlacement) {\n    case ResizeHandlePlacement.Inside:\n    case ResizeHandlePlacement.OverlayInside:\n      nhandleOffset = space.handleSize;\n      if (space.type === Type.Positioned) {\n        nhandleOffset = 0;\n      }\n      break;\n    case ResizeHandlePlacement.OverlayBoundary:\n      nhandleOffset = space.handleSize / 2;\n      break;\n  }\n  var handleOffset = nhandleOffset + \"px\";\n  var addHandleCss = function (id, pos) {\n    var styles = [];\n    if (pos.left) styles.push(\"left: \" + pos.left);\n    if (pos.top) styles.push(\"top: \" + pos.top);\n    if (pos.right) styles.push(\"right: \" + pos.right);\n    if (pos.bottom) styles.push(\"bottom: \" + pos.bottom);\n    if (pos.width) styles.push(\"width: \" + pos.width);\n    if (pos.height) styles.push(\"height: \" + pos.height);\n    cssElements.push(\"#\" + space.id + \"-\" + id + \" { \" + styles.join(\"; \") + \"}\");\n  };\n  var widthOrHeightSpecified = function () {\n    return space.type === Type.Positioned ? space.width.size && space.height.size : space.orientation == Orientation.Horizontal ? space.width.size : space.height.size;\n  };\n  if (space.canResizeLeft) {\n    if (space.anchor) {\n      addHandleCss(\"ml\", {\n        right: \"calc(\" + css(space.right, true) + \" + \" + css(space.width) + \" - \" + handleOffset + \")\",\n        top: \"0\",\n        bottom: \"0\",\n        width: handleSize\n      });\n    } else {\n      addHandleCss(\"ml\", {\n        left: \"calc(\" + css(space.left, true) + \" - \" + handleOffset + \")\",\n        top: css(space.top),\n        bottom: css(space.bottom),\n        width: handleSize,\n        height: css(space.height)\n      });\n    }\n    addHandleCss(\"ml:after\", {\n      left: touchHandleSize,\n      right: touchHandleSize,\n      top: touchHandleSize,\n      bottom: touchHandleSize\n    });\n  }\n  if (space.canResizeTop) {\n    if (space.anchor) {\n      addHandleCss(\"mt\", {\n        left: \"0\",\n        right: \"0\",\n        bottom: \"calc(\" + css(space.bottom) + \" + \" + css(space.height) + \" - \" + handleOffset + \")\",\n        height: handleSize\n      });\n      addHandleCss(\"mt:after\", {\n        top: touchHandleSize,\n        bottom: touchHandleSize,\n        left: touchHandleSize,\n        width: css(space.width),\n        right: touchHandleSize\n      });\n    } else {\n      addHandleCss(\"mt\", {\n        top: \"calc(\" + css(space.top, true) + \" - \" + handleOffset + \")\",\n        left: css(space.left),\n        right: css(space.right),\n        width: css(space.width),\n        height: handleSize\n      });\n      if (widthOrHeightSpecified()) {\n        addHandleCss(\"mt:after\", {\n          top: touchHandleSize,\n          bottom: touchHandleSize,\n          left: touchHandleSize,\n          width: \"calc(\" + css(space.width, true) + \" - \" + handleOffset + \") + \" + negativeTouchHandleSize,\n          right: touchHandleSize\n        });\n      } else {\n        addHandleCss(\"mt:after\", {\n          top: touchHandleSize,\n          bottom: touchHandleSize,\n          left: touchHandleSize,\n          width: css(space.width),\n          right: touchHandleSize\n        });\n      }\n    }\n  }\n  if (space.canResizeRight) {\n    if (widthOrHeightSpecified()) {\n      addHandleCss(\"mr\", {\n        left: \"calc(\" + css(space.left, true) + \" + \" + css(space.width, true) + \" - \" + handleSize + \" + \" + handleOffset + \")\",\n        top: css(space.top),\n        bottom: css(space.bottom),\n        width: handleSize,\n        height: css(space.height)\n      });\n    } else {\n      addHandleCss(\"mr\", {\n        right: \"calc(\" + css(space.right, true) + \" - \" + handleOffset + \")\",\n        top: css(space.top),\n        bottom: css(space.bottom),\n        width: handleSize,\n        height: css(space.height)\n      });\n    }\n    addHandleCss(\"mr:after\", {\n      left: touchHandleSize,\n      right: touchHandleSize,\n      top: touchHandleSize,\n      bottom: touchHandleSize\n    });\n  }\n  if (space.canResizeBottom) {\n    if (widthOrHeightSpecified()) {\n      addHandleCss(\"mb\", {\n        top: \"calc(\" + css(space.top, true) + \" + \" + css(space.height, true) + \" - \" + handleSize + \" + \" + handleOffset + \")\",\n        left: css(space.left),\n        right: css(space.right),\n        width: css(space.width),\n        height: handleSize\n      });\n    } else {\n      addHandleCss(\"mb\", {\n        bottom: \"calc(\" + css(space.bottom, true) + \" - \" + handleOffset + \")\",\n        left: css(space.left),\n        right: css(space.right),\n        width: css(space.width),\n        height: handleSize\n      });\n    }\n    addHandleCss(\"mb:after\", {\n      top: touchHandleSize,\n      bottom: touchHandleSize,\n      left: touchHandleSize,\n      right: touchHandleSize\n    });\n  }\n  if (space.canResizeTopLeft) {\n    addHandleCss(\"mtl\", {\n      left: \"calc(\" + css(space.left, true) + \" - \" + handleOffset + \")\",\n      top: css(space.top),\n      width: handleSize,\n      height: handleSize\n    });\n    addHandleCss(\"mtl:after\", {\n      top: touchHandleSize,\n      bottom: touchHandleSize,\n      left: touchHandleSize,\n      right: touchHandleSize\n    });\n  }\n  if (space.canResizeTopRight) {\n    if (widthOrHeightSpecified()) {\n      addHandleCss(\"mtr\", {\n        left: \"calc(\" + css(space.left, true) + \" + \" + css(space.width, true) + \" - \" + handleSize + \" + \" + handleOffset + \")\",\n        top: css(space.top),\n        width: handleSize,\n        height: handleSize\n      });\n    } else {\n      addHandleCss(\"mtr\", {\n        right: \"calc(\" + css(space.right, true) + \" - \" + handleOffset + \")\",\n        top: css(space.top),\n        width: handleSize,\n        height: handleSize\n      });\n    }\n    addHandleCss(\"mtr:after\", {\n      top: touchHandleSize,\n      bottom: touchHandleSize,\n      left: touchHandleSize,\n      right: touchHandleSize\n    });\n  }\n  if (space.canResizeBottomLeft) {\n    if (widthOrHeightSpecified()) {\n      addHandleCss(\"mbl\", {\n        top: \"calc(\" + css(space.top, true) + \" + \" + css(space.height, true) + \" - \" + handleSize + \" + \" + handleOffset + \")\",\n        left: css(space.left),\n        width: handleSize,\n        height: handleSize\n      });\n    } else {\n      addHandleCss(\"mbl\", {\n        bottom: \"calc(\" + css(space.bottom, true) + \" - \" + handleOffset + \")\",\n        left: css(space.left),\n        width: handleSize,\n        height: handleSize\n      });\n    }\n    addHandleCss(\"mbl:after\", {\n      top: touchHandleSize,\n      bottom: touchHandleSize,\n      left: touchHandleSize,\n      right: touchHandleSize\n    });\n  }\n  if (space.canResizeBottomRight) {\n    if (widthOrHeightSpecified()) {\n      addHandleCss(\"mbr\", {\n        left: \"calc(\" + css(space.left, true) + \" + \" + css(space.width, true) + \" - \" + handleSize + \" + \" + handleOffset + \")\",\n        top: \"calc(\" + css(space.top, true) + \" + \" + css(space.height, true) + \" - \" + handleSize + \" + \" + handleOffset + \")\",\n        width: handleSize,\n        height: handleSize\n      });\n    } else {\n      addHandleCss(\"mbr\", {\n        right: \"calc(\" + css(space.right, true) + \" - \" + handleOffset + \")\",\n        bottom: \"calc(\" + css(space.bottom, true) + \" - \" + handleOffset + \")\",\n        width: handleSize,\n        height: handleSize\n      });\n    }\n    addHandleCss(\"mbr:after\", {\n      top: touchHandleSize,\n      bottom: touchHandleSize,\n      left: touchHandleSize,\n      right: touchHandleSize\n    });\n  }\n  return cssElements.join(\" \");\n}\nfunction updateStyleDefinition(space) {\n  var definition = styleDefinition(space);\n  if (!isServer()) {\n    var existing = document.getElementById(\"style_\" + space.id);\n    if (existing) {\n      if (existing.innerHTML !== definition) {\n        existing.innerHTML = definition;\n      }\n    } else {\n      var newStyle = document.createElement(\"style\");\n      newStyle.id = \"style_\" + space.id;\n      newStyle.innerHTML = definition;\n      document.head.appendChild(newStyle);\n    }\n  } else {\n    space.ssrStyle = definition;\n  }\n}\nfunction removeStyleDefinition(space) {\n  var existing = document.getElementById(\"style_\" + space.id);\n  if (existing) {\n    document.head.removeChild(existing);\n  }\n}\nfunction isServer() {\n  if (typeof document !== \"undefined\") {\n    if (document) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isHorizontal(resizeType) {\n  return resizeType === ResizeType.Left || resizeType === ResizeType.Right;\n}\nfunction createSideAdjuster(rect, resizeType, dimensionToAdjust, space, originalX, originalY) {\n  var negater = resizeType === ResizeType.Right || resizeType === ResizeType.Bottom ? function (val) {\n    return -val;\n  } : function (val) {\n    return val;\n  };\n  var candidateOppositeDimensionToAdjust = isHorizontal(resizeType) ? space.width : space.height;\n  var offset1 = dimensionToAdjust.resized;\n  var offset2 = candidateOppositeDimensionToAdjust.resized;\n  var size = isHorizontal(resizeType) ? rect.width : rect.height;\n  var minimumAdjust = coalesce(space.minimumSize, 20) - size + 0;\n  var maximumAdjust = space.maximumSize ? space.maximumSize - size + 0 : undefined;\n  return function (currentX, currentY) {\n    var adjustment = (isHorizontal(resizeType) ? originalX : originalY) - (isHorizontal(resizeType) ? currentX : currentY);\n    var dimensionResized = negater(adjustment);\n    if (space.type !== Type.Positioned) {\n      dimensionResized = Math.max(negater(adjustment), minimumAdjust);\n      if (dimensionResized < minimumAdjust) {\n        dimensionResized = minimumAdjust;\n      }\n      if (typeof maximumAdjust === \"number\") {\n        if (dimensionResized > maximumAdjust) {\n          dimensionResized = maximumAdjust;\n        }\n      }\n    }\n    if (dimensionToAdjust.size !== undefined) {\n      dimensionToAdjust.resized = negater(-adjustment) + offset1;\n      if (candidateOppositeDimensionToAdjust.size) {\n        candidateOppositeDimensionToAdjust.resized = negater(adjustment) + offset2;\n      }\n    } else {\n      candidateOppositeDimensionToAdjust.resized = dimensionResized + offset2;\n    }\n  };\n}\nfunction createAdjuster(resizeType, space, originalX, originalY) {\n  var rect = space.element.getBoundingClientRect();\n  switch (resizeType) {\n    case ResizeType.Left:\n      return createSideAdjuster(rect, resizeType, space.left, space, originalX, originalY);\n    case ResizeType.Right:\n      return createSideAdjuster(rect, resizeType, space.right, space, originalX, originalY);\n    case ResizeType.Bottom:\n      return createSideAdjuster(rect, resizeType, space.bottom, space, originalX, originalY);\n    case ResizeType.Top:\n      return createSideAdjuster(rect, resizeType, space.top, space, originalX, originalY);\n    case ResizeType.TopLeft:\n      var topAdjuster_1 = createSideAdjuster(rect, ResizeType.Top, space.top, space, originalX, originalY);\n      var leftAdjuster_1 = createSideAdjuster(rect, ResizeType.Left, space.left, space, originalX, originalY);\n      return function (x, y) {\n        topAdjuster_1(x, y);\n        leftAdjuster_1(x, y);\n      };\n    case ResizeType.TopRight:\n      var top1Adjuster_1 = createSideAdjuster(rect, ResizeType.Top, space.top, space, originalX, originalY);\n      var rightAdjuster_1 = createSideAdjuster(rect, ResizeType.Right, space.right, space, originalX, originalY);\n      return function (x, y) {\n        top1Adjuster_1(x, y);\n        rightAdjuster_1(x, y);\n      };\n    case ResizeType.BottomLeft:\n      var bottomAdjuster_1 = createSideAdjuster(rect, ResizeType.Bottom, space.bottom, space, originalX, originalY);\n      var left1Adjuster_1 = createSideAdjuster(rect, ResizeType.Left, space.left, space, originalX, originalY);\n      return function (x, y) {\n        bottomAdjuster_1(x, y);\n        left1Adjuster_1(x, y);\n      };\n    case ResizeType.BottomRight:\n      var bottom1Adjuster_1 = createSideAdjuster(rect, ResizeType.Bottom, space.bottom, space, originalX, originalY);\n      var right1Adjuster_1 = createSideAdjuster(rect, ResizeType.Right, space.right, space, originalX, originalY);\n      return function (x, y) {\n        bottom1Adjuster_1(x, y);\n        right1Adjuster_1(x, y);\n      };\n    default:\n      throw \"Resize type \" + resizeType + \" not supported\";\n  }\n}\nfunction createResize(store) {\n  return {\n    startResize: function (e, resizeType, space, endEvent, moveEvent, getCoords, onResizeEnd) {\n      if (space.onResizeStart) {\n        var result = space.onResizeStart(resizeType);\n        if (typeof result === \"boolean\" && !result) {\n          return;\n        }\n      }\n      var originalCoords = getCoords(e);\n      var adjuster = createAdjuster(resizeType, space, originalCoords.x, originalCoords.y);\n      space.resizing = true;\n      space.updateParent();\n      var lastX = 0;\n      var lastY = 0;\n      var moved = false;\n      var resize = function (currentX, currentY) {\n        adjuster(currentX, currentY);\n        store.updateStyles(space);\n      };\n      var withPreventDefault = function (e) {\n        moved = true;\n        var newCoords = getCoords(e);\n        lastX = newCoords.x;\n        lastY = newCoords.y;\n        e.preventDefault();\n        {\n          window.requestAnimationFrame(function () {\n            if (space.resizing) {\n              resize(lastX, lastY);\n            }\n          });\n        }\n      };\n      var removeListener = function () {\n        space.resizing = false;\n        if (moved) {\n          resize(lastX, lastY);\n        }\n        window.removeEventListener(moveEvent, withPreventDefault);\n        window.removeEventListener(endEvent, removeListener);\n        space.updateParent();\n        var resizeEnd = onResizeEnd || space.onResizeEnd;\n        if (resizeEnd) {\n          var currentRect = space.element.getBoundingClientRect();\n          resizeEnd(Math.floor(isHorizontal(resizeType) ? currentRect.width : currentRect.height), currentRect, resizeType);\n        }\n      };\n      window.addEventListener(moveEvent, withPreventDefault);\n      window.addEventListener(endEvent, removeListener);\n    }\n  };\n}\nfunction createDrag(store) {\n  function onMove(space, originalX, originalY, x, y) {\n    var adjustmentX = -(originalX - x);\n    var adjustmentY = -(originalY - y);\n    space.left.adjusted = [adjustmentX];\n    space.top.adjusted = [adjustmentY];\n    if (space.right.size) {\n      space.right.adjusted = [-adjustmentX];\n    }\n    if (space.bottom.size) {\n      space.bottom.adjusted = [-adjustmentY];\n    }\n    store.updateStyles(space);\n  }\n  return {\n    startDrag: function (e, space, endEvent, moveEvent, getCoords, onDragEnd) {\n      if (space.element) {\n        var coords = getCoords(e);\n        var adjustedLeft = space.left.adjusted.length === 0 ? 0 : space.left.adjusted[0];\n        var adjustedTop = space.top.adjusted.length === 0 ? 0 : space.top.adjusted[0];\n        var originalMouseX_1 = coords.x - adjustedLeft;\n        var originalMouseY_1 = coords.y - adjustedTop;\n        var lastX_1 = 0;\n        var lastY_1 = 0;\n        var moved_1 = false;\n        var mouseMove_1 = function (x, y) {\n          return onMove(space, originalMouseX_1, originalMouseY_1, x, y);\n        };\n        var throttledMouseMove_1 = throttle(mouseMove_1, 5);\n        var withPreventDefault_1 = function (e) {\n          moved_1 = true;\n          var newCoords = getCoords(e);\n          lastX_1 = newCoords.x;\n          lastY_1 = newCoords.y;\n          e.preventDefault();\n          throttledMouseMove_1(lastX_1, lastY_1);\n        };\n        var removeListener_1 = function () {\n          var _a;\n          if (moved_1) {\n            mouseMove_1(lastX_1, lastY_1);\n          }\n          window.removeEventListener(moveEvent, withPreventDefault_1);\n          window.removeEventListener(endEvent, removeListener_1);\n          if (onDragEnd) {\n            var parentInfo = space.parentId && ((_a = store.getSpace(space.parentId)) === null || _a === void 0 ? void 0 : _a.element.getBoundingClientRect()) || {\n              left: 0,\n              top: 0,\n              right: 0,\n              bottom: 0,\n              width: 0,\n              height: 0\n            };\n            var info = function (_a) {\n              var left = _a.left,\n                top = _a.top,\n                right = _a.right,\n                bottom = _a.bottom,\n                width = _a.width,\n                height = _a.height;\n              return {\n                left: left,\n                top: top,\n                right: right,\n                bottom: bottom,\n                width: width,\n                height: height\n              };\n            }(space.element.getBoundingClientRect());\n            onDragEnd(__assign(__assign({}, info), {\n              left: info.left - parentInfo.left,\n              top: info.top - parentInfo.top\n            }), moved_1);\n          }\n        };\n        window.addEventListener(moveEvent, withPreventDefault_1);\n        window.addEventListener(endEvent, removeListener_1);\n      }\n    }\n  };\n}\nvar spaceDefaults = {\n  id: \"\",\n  zIndex: 0,\n  scrollable: false,\n  resizing: false,\n  allowOverflow: false,\n  centerContent: \"none\",\n  dimension: {\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: 0,\n    height: 0,\n    x: 0,\n    y: 0,\n    toJSON: function () {\n      return \"\";\n    }\n  },\n  handleSize: 5,\n  touchHandleSize: 5,\n  handlePlacement: ResizeHandlePlacement.OverlayInside,\n  adjustLeft: function () {\n    return false;\n  },\n  adjustRight: function () {\n    return false;\n  },\n  adjustTop: function () {\n    return false;\n  },\n  adjustBottom: function () {\n    return false;\n  },\n  adjustEdge: function () {\n    return false;\n  },\n  anchoredChildren: function () {\n    return [];\n  }\n};\nvar anchorTypes = [AnchorType.Left, AnchorType.Top, AnchorType.Right, AnchorType.Bottom];\nfunction getPosition(type) {\n  if (type === Type.ViewPort) {\n    return \"fixed\";\n  }\n  if (type === Type.Fixed) {\n    return \"relative\";\n  }\n  return \"absolute\";\n}\nfunction getOrientation(anchor) {\n  return anchor === AnchorType.Bottom || anchor === AnchorType.Top ? Orientation.Vertical : Orientation.Horizontal;\n}\nfunction anchorUpdates(space) {\n  return [{\n    anchor: AnchorType.Left,\n    update: space.adjustLeft\n  }, {\n    anchor: AnchorType.Top,\n    update: space.adjustTop\n  }, {\n    anchor: AnchorType.Right,\n    update: space.adjustRight\n  }, {\n    anchor: AnchorType.Bottom,\n    update: space.adjustBottom\n  }];\n}\nfunction sizeInfoDefault(size) {\n  return {\n    size: size,\n    adjusted: [],\n    resized: 0\n  };\n}\nfunction createStore() {\n  var spaces = [];\n  var setSpaces = function (newSpaces) {\n    spaces = newSpaces;\n  };\n  var getSpace = function (id) {\n    return getSpaces().find(function (s) {\n      return s.id === id;\n    });\n  };\n  var getSpaces = function () {\n    return spaces;\n  };\n  var recalcSpaces = function (parent) {\n    var onlyUnique = function (value, index, self) {\n      return self.indexOf(value) === index;\n    };\n    var addDefaultOrders = function (spaces) {\n      var result = [];\n      anchorTypes.forEach(function (t) {\n        var anchoredSpaces = spaces.filter(function (s) {\n          return s.anchor !== undefined && s.anchor === t;\n        });\n        var zIndices = anchoredSpaces.map(function (s) {\n          return s.zIndex;\n        }).filter(onlyUnique);\n        zIndices.forEach(function (i) {\n          var anchoredSpacesInLayer = anchoredSpaces.filter(function (s) {\n            return s.zIndex === i;\n          });\n          var orderedSpaces = anchoredSpacesInLayer.filter(function (c) {\n            return c.order !== undefined;\n          });\n          var unorderedSpaces = anchoredSpacesInLayer.filter(function (c) {\n            return c.order === undefined;\n          });\n          var maxOrder = orderedSpaces.length > 0 ? orderedSpaces.map(function (a) {\n            return a.order;\n          }).reduce(function (a, b) {\n            return Math.max(a, b);\n          }) : 0;\n          result = __spreadArray(__spreadArray([], result, true), __spreadArray(__spreadArray([], orderedSpaces, true), unorderedSpaces.map(function (c, idx) {\n            return __assign(__assign({}, c), {\n              order: maxOrder + idx + 1\n            });\n          }), true), true);\n        });\n      });\n      return __spreadArray(__spreadArray([], result, true), spaces.filter(function (s) {\n        return s.anchor === undefined;\n      }), true);\n    };\n    var orderedSpaces = addDefaultOrders(parent.children);\n    var _loop_1 = function () {\n      var space = orderedSpaces[i];\n      var changed = false;\n      if (space.type === Type.Fill) {\n        anchorUpdates(space).forEach(function (info) {\n          var adjusted = [];\n          var anchoredSpaces = parent.anchoredChildren(orderedSpaces, info.anchor, space.zIndex);\n          anchoredSpaces.forEach(function (as) {\n            if (as.orientation === Orientation.Vertical) {\n              if (as.height.size) {\n                adjusted.push(as.height.size);\n              }\n              if (as.height.resized) {\n                adjusted.push(as.height.resized);\n              }\n            } else {\n              if (as.width.size) {\n                adjusted.push(as.width.size);\n              }\n              if (as.width.resized) {\n                adjusted.push(as.width.resized);\n              }\n            }\n          });\n          if (info.update(adjusted)) {\n            changed = true;\n          }\n        });\n      } else if (space.type === Type.Anchored) {\n        var adjusted_1 = [];\n        var anchoredSpaces = parent.anchoredChildren(orderedSpaces, space.anchor, space.zIndex).filter(function (s) {\n          return s.id !== space.id && s.order <= space.order;\n        });\n        anchoredSpaces.forEach(function (as) {\n          if (as.orientation === Orientation.Vertical) {\n            if (as.height.size) {\n              adjusted_1.push(as.height.size);\n            }\n            if (as.height.resized) {\n              adjusted_1.push(as.height.resized);\n            }\n          } else {\n            if (as.width.size) {\n              adjusted_1.push(as.width.size);\n            }\n            if (as.width.resized) {\n              adjusted_1.push(as.width.resized);\n            }\n          }\n        });\n        if (space.adjustEdge(adjusted_1)) {\n          changed = true;\n        }\n      }\n      if (changed) {\n        updateStyleDefinition(space);\n      }\n    };\n    for (var i = 0, len = orderedSpaces.length; i < len; i++) {\n      _loop_1();\n    }\n  };\n  var store = {\n    getSpaces: getSpaces,\n    getSpace: getSpace,\n    addSpace: function (space) {\n      getSpaces().push(space);\n      if (space.parentId) {\n        var parentSpace = getSpace(space.parentId);\n        if (parentSpace) {\n          parentSpace.children.push(space);\n          recalcSpaces(parentSpace);\n        }\n      }\n      updateStyleDefinition(space);\n    },\n    removeSpace: function (space) {\n      setSpaces(getSpaces().filter(function (s) {\n        return s.id !== space.id;\n      }));\n      if (space.parentId) {\n        var parentSpace = getSpace(space.parentId);\n        if (parentSpace) {\n          parentSpace.children = parentSpace.children.filter(function (s) {\n            return s.id !== space.id;\n          });\n          recalcSpaces(parentSpace);\n        }\n      }\n      removeStyleDefinition(space);\n    },\n    updateStyles: function (space) {\n      if (space.parentId) {\n        var parent_1 = getSpace(space.parentId);\n        if (parent_1) {\n          recalcSpaces(parent_1);\n        }\n      }\n      updateStyleDefinition(space);\n    },\n    updateSpace: function (space, props) {\n      var type = props.type,\n        anchor = props.anchor,\n        order = props.order,\n        zIndex = props.zIndex,\n        scrollable = props.scrollable,\n        position = props.position,\n        centerContent = props.centerContent,\n        minimumSize = props.minimumSize,\n        maximumSize = props.maximumSize,\n        handleSize = props.handleSize,\n        touchHandleSize = props.touchHandleSize,\n        handlePlacement = props.handlePlacement,\n        allowOverflow = props.allowOverflow;\n      var canResizeLeft = position && position.leftResizable || false;\n      var canResizeRight = position && position.rightResizable || false;\n      var canResizeTop = position && position.topResizable || false;\n      var canResizeBottom = position && position.bottomResizable || false;\n      var canResizeTopLeft = position && position.topLeftResizable || false;\n      var canResizeTopRight = position && position.topRightResizable || false;\n      var canResizeBottomLeft = position && position.bottomLeftResizable || false;\n      var canResizeBottomRight = position && position.bottomRightResizable || false;\n      var changed = false;\n      if (space.type !== type) {\n        space.type = type;\n        space.position = getPosition(type);\n        changed = true;\n      }\n      if (space.anchor !== anchor) {\n        space.anchor = anchor;\n        space.orientation = getOrientation(anchor);\n        changed = true;\n        if (type === Type.Anchored) {\n          if (anchor === AnchorType.Left) {\n            space.adjustEdge = space.adjustLeft;\n          } else if (anchor === AnchorType.Top) {\n            space.adjustEdge = space.adjustTop;\n          } else if (anchor === AnchorType.Right) {\n            space.adjustEdge = space.adjustRight;\n          } else if (anchor === AnchorType.Bottom) {\n            space.adjustEdge = space.adjustBottom;\n          }\n        }\n      }\n      if (space.left.size !== (position && position.left)) {\n        space.left.size = position && position.left;\n        space.left.resized = 0;\n        space.left.adjusted = [];\n        changed = true;\n      }\n      if (space.right.size !== (position && position.right)) {\n        space.right.size = position && position.right;\n        space.right.resized = 0;\n        space.right.adjusted = [];\n        changed = true;\n      }\n      if (space.top.size !== (position && position.top)) {\n        space.top.size = position && position.top;\n        space.top.resized = 0;\n        space.top.adjusted = [];\n        changed = true;\n      }\n      if (space.bottom.size !== (position && position.bottom)) {\n        space.bottom.size = position && position.bottom;\n        space.bottom.resized = 0;\n        space.bottom.adjusted = [];\n        changed = true;\n      }\n      if (space.width.size !== (position && position.width)) {\n        space.width.size = position && position.width;\n        space.width.resized = 0;\n        space.width.adjusted = [];\n        changed = true;\n      }\n      if (space.height.size !== (position && position.height)) {\n        space.height.size = position && position.height;\n        space.height.resized = 0;\n        space.height.adjusted = [];\n        changed = true;\n      }\n      if (coalesce(space.order, 0) !== coalesce(order, 0)) {\n        space.order = coalesce(order, 0);\n        changed = true;\n      }\n      if (coalesce(space.zIndex, 0) !== coalesce(zIndex, 0)) {\n        space.zIndex = coalesce(zIndex, 0);\n        changed = true;\n      }\n      if (coalesce(space.scrollable, false) !== coalesce(scrollable, false)) {\n        space.scrollable = coalesce(scrollable, false);\n        changed = true;\n      }\n      if (space.minimumSize !== minimumSize) {\n        space.minimumSize = minimumSize;\n        changed = true;\n      }\n      if (space.maximumSize !== maximumSize) {\n        space.maximumSize = maximumSize;\n        changed = true;\n      }\n      if (coalesce(space.centerContent, CenterType.None) !== coalesce(centerContent, CenterType.None)) {\n        space.centerContent = coalesce(centerContent, CenterType.None);\n        changed = true;\n      }\n      if (space.handleSize !== handleSize) {\n        space.handleSize = handleSize || spaceDefaults.handleSize;\n        changed = true;\n      }\n      if (space.touchHandleSize !== touchHandleSize) {\n        space.touchHandleSize = touchHandleSize || spaceDefaults.touchHandleSize;\n        changed = true;\n      }\n      if (space.handlePlacement !== handlePlacement) {\n        space.handlePlacement = handlePlacement || spaceDefaults.handlePlacement;\n        changed = true;\n      }\n      if (space.canResizeBottom !== canResizeBottom) {\n        space.canResizeBottom = canResizeBottom;\n        changed = true;\n      }\n      if (space.canResizeTop !== canResizeTop) {\n        space.canResizeTop = canResizeTop;\n        changed = true;\n      }\n      if (space.canResizeLeft !== canResizeLeft) {\n        space.canResizeLeft = canResizeLeft;\n        changed = true;\n      }\n      if (space.canResizeRight !== canResizeRight) {\n        space.canResizeRight = canResizeRight;\n        changed = true;\n      }\n      if (space.canResizeTopLeft !== canResizeTopLeft) {\n        space.canResizeTopLeft = canResizeTopLeft;\n        changed = true;\n      }\n      if (space.canResizeTopRight !== canResizeTopRight) {\n        space.canResizeTopRight = canResizeTopRight;\n        changed = true;\n      }\n      if (space.canResizeBottomLeft !== canResizeBottomLeft) {\n        space.canResizeBottomLeft = canResizeBottomLeft;\n        changed = true;\n      }\n      if (space.canResizeBottomRight !== canResizeBottomRight) {\n        space.canResizeBottomRight = canResizeBottomRight;\n        changed = true;\n      }\n      if (space.allowOverflow !== allowOverflow) {\n        space.allowOverflow = allowOverflow || spaceDefaults.allowOverflow;\n        changed = true;\n      }\n      if (changed) {\n        if (space.parentId) {\n          var parentSpace = getSpace(space.parentId);\n          if (parentSpace) {\n            recalcSpaces(parentSpace);\n          }\n        }\n        updateStyleDefinition(space);\n      }\n    },\n    createSpace: function () {\n      return {};\n    },\n    startMouseResize: function () {\n      return null;\n    },\n    startTouchResize: function () {\n      return null;\n    },\n    startMouseDrag: function () {\n      return null;\n    },\n    startTouchDrag: function () {\n      return null;\n    }\n  };\n  var resize = createResize(store);\n  var drag = createDrag(store);\n  store.createSpace = function (parentId, props, update) {\n    var position = props.position,\n      anchor = props.anchor,\n      type = props.type,\n      commonProps = __rest(props, [\"position\", \"anchor\", \"type\"]);\n    var canResizeLeft = position && position.rightResizable || false;\n    var canResizeRight = position && position.leftResizable || false;\n    var canResizeTop = position && position.bottomResizable || false;\n    var canResizeBottom = position && position.topResizable || false;\n    var canResizeTopLeft = position && position.topLeftResizable || false;\n    var canResizeTopRight = position && position.topRightResizable || false;\n    var canResizeBottomLeft = position && position.bottomLeftResizable || false;\n    var canResizeBottomRight = position && position.bottomRightResizable || false;\n    var newSpace = __assign(__assign(__assign({}, spaceDefaults), commonProps), {\n      store: store,\n      update: update,\n      updateParent: function () {\n        if (parentId) {\n          var parentSpace = store.getSpace(parentId);\n          if (parentSpace) {\n            parentSpace.update();\n          }\n        }\n      },\n      parentId: parentId,\n      children: [],\n      anchor: anchor,\n      type: type,\n      orientation: getOrientation(anchor),\n      position: getPosition(type),\n      left: sizeInfoDefault(position && position.left),\n      right: sizeInfoDefault(position && position.right),\n      top: sizeInfoDefault(position && position.top),\n      bottom: sizeInfoDefault(position && position.bottom),\n      width: sizeInfoDefault(position && position.width),\n      height: sizeInfoDefault(position && position.height),\n      canResizeLeft: canResizeLeft,\n      canResizeRight: canResizeRight,\n      canResizeTop: canResizeTop,\n      canResizeBottom: canResizeBottom,\n      canResizeTopLeft: canResizeTopLeft,\n      canResizeTopRight: canResizeTopRight,\n      canResizeBottomLeft: canResizeBottomLeft,\n      canResizeBottomRight: canResizeBottomRight\n    });\n    newSpace.anchoredChildren = function (children, chanchor, zIndex) {\n      return children.filter(function (s) {\n        return s.type === Type.Anchored && s.anchor === chanchor && s.zIndex === zIndex;\n      });\n    };\n    newSpace.adjustLeft = function (adjusted) {\n      if (adjustmentsEqual(newSpace.left.adjusted, adjusted)) {\n        return false;\n      }\n      newSpace.left.adjusted = adjusted;\n      return true;\n    };\n    newSpace.adjustRight = function (adjusted) {\n      if (adjustmentsEqual(newSpace.right.adjusted, adjusted)) {\n        return false;\n      }\n      newSpace.right.adjusted = adjusted;\n      return true;\n    };\n    newSpace.adjustTop = function (adjusted) {\n      if (adjustmentsEqual(newSpace.top.adjusted, adjusted)) {\n        return false;\n      }\n      newSpace.top.adjusted = adjusted;\n      return true;\n    };\n    newSpace.adjustBottom = function (adjusted) {\n      if (adjustmentsEqual(newSpace.bottom.adjusted, adjusted)) {\n        return false;\n      }\n      newSpace.bottom.adjusted = adjusted;\n      return true;\n    };\n    if (type === Type.Anchored) {\n      if (anchor === AnchorType.Left) {\n        newSpace.adjustEdge = newSpace.adjustLeft;\n      } else if (anchor === AnchorType.Top) {\n        newSpace.adjustEdge = newSpace.adjustTop;\n      } else if (anchor === AnchorType.Right) {\n        newSpace.adjustEdge = newSpace.adjustRight;\n      } else if (anchor === AnchorType.Bottom) {\n        newSpace.adjustEdge = newSpace.adjustBottom;\n      }\n    }\n    return newSpace;\n  };\n  store.startMouseResize = function (resizeType, space, event, onResizeEnd) {\n    resize.startResize(event, resizeType, space, EndEvent.Mouse, MoveEvent.Mouse, function (e) {\n      return {\n        x: e.clientX,\n        y: e.clientY\n      };\n    }, onResizeEnd);\n  };\n  store.startTouchResize = function (resizeType, space, event, onResizeEnd) {\n    resize.startResize(event, resizeType, space, EndEvent.Touch, MoveEvent.Touch, function (e) {\n      return {\n        x: e.touches[0].clientX,\n        y: e.touches[0].clientY\n      };\n    }, onResizeEnd);\n  };\n  store.startMouseDrag = function (space, event, onDragEnd) {\n    drag.startDrag(event, space, EndEvent.Mouse, MoveEvent.Mouse, function (e) {\n      return {\n        x: e.clientX,\n        y: e.clientY\n      };\n    }, onDragEnd);\n  };\n  store.startTouchDrag = function (space, event, onDragEnd) {\n    drag.startDrag(event, space, EndEvent.Touch, MoveEvent.Touch, function (e) {\n      return {\n        x: e.touches[0].clientX,\n        y: e.touches[0].clientY\n      };\n    }, onDragEnd);\n  };\n  return store;\n}\n\n// WORKAROUND for React18 strict mode\n// https://blog.ag-grid.com/avoiding-react-18-double-mount/\nvar useEffectOnce = function (effect) {\n  var destroyFunc = useRef();\n  var effectCalled = useRef(false);\n  var renderAfterCalled = useRef(false);\n  var _a = useState(0);\n  _a[0];\n  var setVal = _a[1];\n  if (effectCalled.current) {\n    renderAfterCalled.current = true;\n  }\n  useEffect(function () {\n    // only execute the effect first time around\n    if (!effectCalled.current) {\n      destroyFunc.current = effect();\n      effectCalled.current = true;\n    }\n    // this forces one render after the effect is run\n    setVal(function (val) {\n      return val + 1;\n    });\n    return function () {\n      // if the comp didn't render since the useEffect was called,\n      // we know it's the dummy React cycle\n      if (!renderAfterCalled.current) {\n        return;\n      }\n      if (destroyFunc.current) {\n        destroyFunc.current();\n      }\n    };\n  }, []);\n};\nvar ParentContext = React.createContext(undefined);\nvar DOMRectContext = React.createContext(undefined);\nvar LayerContext = React.createContext(undefined);\nvar OptionsContext = React.createContext({});\nvar currentStore = createStore();\nvar commonProps = {\n  id: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  as: PropTypes.any,\n  centerContent: PropTypes.oneOf([CenterType.None, CenterType.Vertical, CenterType.HorizontalVertical]),\n  zIndex: PropTypes.number,\n  scrollable: PropTypes.bool,\n  trackSize: PropTypes.bool,\n  allowOverflow: PropTypes.bool,\n  handleRender: PropTypes.func,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func\n};\nfunction useForceUpdate() {\n  var _a = React.useState(0),\n    setTick = _a[1];\n  return React.useCallback(function () {\n    setTick(function (tick) {\n      return tick + 1;\n    });\n  }, []);\n}\nfunction useUniqueId() {\n  if (SSR_SUPPORT_ENABLED) {\n    if (React.version.startsWith(\"18\")) {\n      return \"s\" + React.useId().replace(/\\:/g, \"\");\n    }\n    if (React.unstable_useOpaqueIdentifier) {\n      return \"s\" + React.unstable_useOpaqueIdentifier().replace(/\\:/g, \"\");\n    }\n  }\n  return \"s\" + shortuuid();\n}\nfunction useSpace(props) {\n  var store = currentStore;\n  var update = useForceUpdate();\n  var parent = React.useContext(ParentContext);\n  var layer = React.useContext(LayerContext);\n  var debug = React.useContext(OptionsContext).debug;\n  var uniqueId = useUniqueId();\n  var spaceId = React.useState(props.id || uniqueId)[0];\n  var elementRef = React.useRef();\n  var resizeSensor = React.useRef();\n  var _a = React.useState(),\n    domRect = _a[0],\n    setDomRect = _a[1];\n  var space = store.getSpace(spaceId);\n  if (debug) {\n    console.table(store.getSpaces());\n  }\n  var parsedProps = __assign(__assign({}, props), {\n    id: spaceId,\n    zIndex: coalesce(props.zIndex, layer)\n  });\n  if (!space) {\n    space = store.createSpace(parent, parsedProps, update);\n    store.addSpace(space);\n  } else {\n    store.updateSpace(space, parsedProps);\n  }\n  var resizeHandles = useSpaceResizeHandles(store, space);\n  useEffectOnce(function () {\n    var rect = elementRef.current ? elementRef.current.getBoundingClientRect() : new DOMRect();\n    space.dimension = __assign(__assign({}, rect), {\n      left: Math.floor(rect.left),\n      top: Math.floor(rect.top),\n      right: Math.floor(rect.right),\n      bottom: Math.floor(rect.bottom),\n      width: Math.floor(rect.width),\n      height: Math.floor(rect.height),\n      x: Math.floor(rect.x),\n      y: Math.floor(rect.y)\n    });\n    setDomRect(space.dimension);\n    if (props.trackSize) {\n      resizeSensor.current = new ResizeSensor(elementRef.current, function (size) {\n        space.dimension = __assign(__assign({}, rect), {\n          width: Math.floor(size.width),\n          height: Math.floor(size.height)\n        });\n        setDomRect(space.dimension);\n      });\n    }\n    return function () {\n      resizeSensor.current && resizeSensor.current.detach();\n      store.removeSpace(space);\n    };\n  });\n  return {\n    space: space,\n    resizeHandles: resizeHandles,\n    domRect: domRect,\n    elementRef: elementRef\n  };\n}\nvar resizeSetup = [{\n  id: \"ml\",\n  className: \"resize-left\",\n  resizeType: ResizeType.Left,\n  condition: function (space) {\n    return space.canResizeLeft;\n  }\n}, {\n  id: \"mr\",\n  className: \"resize-right\",\n  resizeType: ResizeType.Right,\n  condition: function (space) {\n    return space.canResizeRight;\n  }\n}, {\n  id: \"mt\",\n  className: \"resize-top\",\n  resizeType: ResizeType.Top,\n  condition: function (space) {\n    return space.canResizeTop;\n  }\n}, {\n  id: \"mb\",\n  className: \"resize-bottom\",\n  resizeType: ResizeType.Bottom,\n  condition: function (space) {\n    return space.canResizeBottom;\n  }\n}, {\n  id: \"mtl\",\n  className: \"resize-top-left\",\n  resizeType: ResizeType.TopLeft,\n  condition: function (space) {\n    return space.canResizeTopLeft;\n  }\n}, {\n  id: \"mtr\",\n  className: \"resize-top-right\",\n  resizeType: ResizeType.TopRight,\n  condition: function (space) {\n    return space.canResizeTopRight;\n  }\n}, {\n  id: \"mbl\",\n  className: \"resize-bottom-left\",\n  resizeType: ResizeType.BottomLeft,\n  condition: function (space) {\n    return space.canResizeBottomLeft;\n  }\n}, {\n  id: \"mbr\",\n  className: \"resize-bottom-right\",\n  resizeType: ResizeType.BottomRight,\n  condition: function (space) {\n    return space.canResizeBottomRight;\n  }\n}];\nfunction useSpaceResizeHandles(store, space) {\n  var mouseHandles = [];\n  var setupResizeHandle = function (id, className, resizeType) {\n    mouseHandles.push({\n      id: space.id + \"-\" + id,\n      key: id,\n      className: \"spaces-resize-handle \" + className,\n      onMouseDown: function (event) {\n        return store.startMouseResize(resizeType, space, event);\n      },\n      onTouchStart: function (event) {\n        return store.startTouchResize(resizeType, space, event);\n      }\n    });\n  };\n  resizeSetup.forEach(function (resizeItem) {\n    if (resizeItem.condition(space)) {\n      setupResizeHandle(resizeItem.id, resizeItem.className, resizeItem.resizeType);\n    }\n  });\n  return {\n    mouseHandles: mouseHandles\n  };\n}\nfunction useCurrentSpace() {\n  var store = currentStore;\n  var spaceId = React.useContext(ParentContext);\n  var space = spaceId ? store.getSpace(spaceId) : undefined;\n  var domRect = React.useContext(DOMRectContext);\n  var layer = React.useContext(LayerContext);\n  var onMouseDrag = React.useCallback(function (e, onDragEnd) {\n    return space ? store.startMouseDrag(space, e, onDragEnd) : null;\n  }, [spaceId]);\n  var onTouchDrag = React.useCallback(function (e, onDragEnd) {\n    return space ? store.startTouchDrag(space, e, onDragEnd) : null;\n  }, [spaceId]);\n  var onForceUpdate = React.useCallback(function () {\n    return space ? store.updateStyles(space) : null;\n  }, [spaceId]);\n  var defaults = {\n    width: 0,\n    height: 0,\n    x: 0,\n    y: 0\n  };\n  var size = __assign(__assign({}, defaults), domRect);\n  return {\n    size: size,\n    layer: layer || 0,\n    startMouseDrag: onMouseDrag,\n    startTouchDrag: onTouchDrag,\n    forceUpdate: onForceUpdate\n  };\n}\nvar SSR_SUPPORT_ENABLED = false;\nfunction enabledSsrSupport() {\n  SSR_SUPPORT_ENABLED = true;\n}\nvar Centered = function (props) {\n  return React.createElement(\"div\", {\n    className: \"spaces-centered\"\n  }, props.children);\n};\nvar CenteredVertically = function (props) {\n  return React.createElement(\"div\", {\n    className: \"spaces-centered-vertically\"\n  }, props.children);\n};\nfunction applyCentering(children, centerType) {\n  switch (centerType) {\n    case CenterType.Vertical:\n      return React.createElement(CenteredVertically, null, children);\n    case CenterType.HorizontalVertical:\n      return React.createElement(Centered, null, children);\n  }\n  return children;\n}\nvar Space = /** @class */function (_super) {\n  __extends(Space, _super);\n  function Space() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Space.prototype.render = function () {\n    return React.createElement(SpaceInner, __assign({}, this.props, {\n      wrapperInstance: this\n    }));\n  };\n  return Space;\n}(React.Component);\nvar SpaceInner = function (props) {\n  var _a;\n  var idToUse = (_a = props.id) !== null && _a !== void 0 ? _a : props.wrapperInstance[\"_react_spaces_uniqueid\"];\n  var _b = React.useState(SSR_SUPPORT_ENABLED ? true : false),\n    initialRender = _b[0],\n    setInitialRender = _b[1];\n  var uniqueId = useUniqueId();\n  if (!idToUse) {\n    props.wrapperInstance[\"_react_spaces_uniqueid\"] = uniqueId;\n    idToUse = props.wrapperInstance[\"_react_spaces_uniqueid\"];\n  }\n  var style = props.style,\n    className = props.className,\n    onClick = props.onClick,\n    onDoubleClick = props.onDoubleClick,\n    onMouseDown = props.onMouseDown,\n    onMouseEnter = props.onMouseEnter,\n    onMouseLeave = props.onMouseLeave,\n    onMouseMove = props.onMouseMove,\n    onTouchStart = props.onTouchStart,\n    onTouchMove = props.onTouchMove,\n    onTouchEnd = props.onTouchEnd,\n    children = props.children,\n    handleRender = props.handleRender;\n  var events = {\n    onClick: onClick,\n    onDoubleClick: onDoubleClick,\n    onMouseDown: onMouseDown,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onMouseMove: onMouseMove,\n    onTouchStart: onTouchStart,\n    onTouchMove: onTouchMove,\n    onTouchEnd: onTouchEnd\n  };\n  var _c = useSpace(__assign(__assign({}, props), {\n      id: idToUse\n    })),\n    space = _c.space,\n    domRect = _c.domRect,\n    elementRef = _c.elementRef,\n    resizeHandles = _c.resizeHandles;\n  if (SSR_SUPPORT_ENABLED && !isServer()) {\n    var preRenderedStyle = document.getElementById(\"style_\" + idToUse + \"_ssr\");\n    if (preRenderedStyle) {\n      space.ssrStyle = preRenderedStyle.innerHTML;\n    }\n    updateStyleDefinition(space);\n  }\n  useEffectOnce(function () {\n    space.element = elementRef.current;\n    if (SSR_SUPPORT_ENABLED) {\n      if (initialRender) {\n        setInitialRender(false);\n      }\n    }\n  });\n  var userClasses = className ? className.split(\" \").map(function (c) {\n    return c.trim();\n  }) : [];\n  var outerClasses = __spreadArray(__spreadArray(__spreadArray(__spreadArray([], [\"spaces-space\", space.children.find(function (s) {\n    return s.resizing;\n  }) ? \"spaces-resizing\" : undefined], false), [space.type === Type.Fixed ? \"spaces-fixedsize-layout\" : undefined], false), [space.type === Type.ViewPort ? \"spaces-fullpage-layout\" : undefined], false), userClasses.map(function (c) {\n    return c + \"-container\";\n  }), true).filter(function (c) {\n    return c;\n  });\n  var innerClasses = __spreadArray(__spreadArray([], [\"spaces-space-inner\"], false), userClasses, true);\n  var innerStyle = style;\n  if (space.handlePlacement === ResizeHandlePlacement.Inside) {\n    innerStyle = __assign(__assign({}, style), {\n      left: space.anchor === AnchorType.Right ? space.handleSize : undefined,\n      right: space.anchor === AnchorType.Left ? space.handleSize : undefined,\n      top: space.anchor === AnchorType.Bottom ? space.handleSize : undefined,\n      bottom: space.anchor === AnchorType.Top ? space.handleSize : undefined\n    });\n  }\n  var centeredContent = applyCentering(children, props.centerContent);\n  var outerProps = __assign({\n    id: space.id,\n    ref: elementRef,\n    className: outerClasses.join(\" \")\n  }, events);\n  return React.createElement(React.Fragment, null, resizeHandles.mouseHandles.map(function (handleProps) {\n    return (handleRender === null || handleRender === void 0 ? void 0 : handleRender(handleProps)) || React.createElement(\"div\", __assign({}, handleProps));\n  }), SSR_SUPPORT_ENABLED && space.ssrStyle && initialRender && React.createElement(\"style\", {\n    id: \"style_\" + space.id + \"_ssr\"\n  }, space.ssrStyle), React.createElement(props.as || \"div\", outerProps, React.createElement(\"div\", {\n    className: innerClasses.join(\" \"),\n    style: innerStyle\n  }, React.createElement(ParentContext.Provider, {\n    value: space.id\n  }, React.createElement(LayerContext.Provider, {\n    value: undefined\n  }, React.createElement(DOMRectContext.Provider, {\n    value: domRect\n  }, centeredContent))))));\n};\nvar resizableProps = __assign(__assign({}, commonProps), {\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  order: PropTypes.number,\n  handleSize: PropTypes.number,\n  touchHandleSize: PropTypes.number,\n  handlePlacement: PropTypes.oneOf([ResizeHandlePlacement.Inside, ResizeHandlePlacement.OverlayBoundary, ResizeHandlePlacement.OverlayInside]),\n  handleRender: PropTypes.func,\n  minimumSize: PropTypes.number,\n  maximumSize: PropTypes.number,\n  onResizeStart: PropTypes.func,\n  onResizeEnd: PropTypes.func\n});\nvar anchoredProps = __assign(__assign({}, resizableProps), {\n  resizable: PropTypes.bool\n});\nvar LeftResizable = function (_a) {\n  var children = _a.children,\n    size = _a.size,\n    props = __rest(_a, [\"children\", \"size\"]);\n  return React.createElement(Space, __assign({}, props, {\n    type: Type.Anchored,\n    anchor: AnchorType.Left,\n    position: {\n      left: 0,\n      top: 0,\n      bottom: 0,\n      rightResizable: true,\n      width: size\n    }\n  }), children);\n};\nLeftResizable.propTypes = resizableProps;\nvar Left = function (_a) {\n  var size = _a.size,\n    children = _a.children,\n    resizable = _a.resizable,\n    commonProps = __rest(_a, [\"size\", \"children\", \"resizable\"]);\n  return React.createElement(Space, __assign({}, commonProps, {\n    type: Type.Anchored,\n    anchor: AnchorType.Left,\n    position: {\n      left: 0,\n      top: 0,\n      bottom: 0,\n      rightResizable: resizable,\n      width: size\n    }\n  }), children);\n};\nLeft.propTypes = anchoredProps;\nvar TopResizable = function (_a) {\n  var children = _a.children,\n    size = _a.size,\n    props = __rest(_a, [\"children\", \"size\"]);\n  return React.createElement(Space, __assign({}, props, {\n    type: Type.Anchored,\n    anchor: AnchorType.Top,\n    position: {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottomResizable: true,\n      height: size\n    }\n  }), children);\n};\nTopResizable.propTypes = resizableProps;\nvar Top = function (_a) {\n  var size = _a.size,\n    children = _a.children,\n    resizable = _a.resizable,\n    commonProps = __rest(_a, [\"size\", \"children\", \"resizable\"]);\n  return React.createElement(Space, __assign({}, commonProps, {\n    type: Type.Anchored,\n    anchor: AnchorType.Top,\n    position: {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottomResizable: resizable,\n      height: size\n    }\n  }), children);\n};\nTop.propTypes = anchoredProps;\nvar RightResizable = function (_a) {\n  var children = _a.children,\n    size = _a.size,\n    props = __rest(_a, [\"children\", \"size\"]);\n  return React.createElement(Space, __assign({}, props, {\n    type: Type.Anchored,\n    anchor: AnchorType.Right,\n    position: {\n      bottom: 0,\n      top: 0,\n      right: 0,\n      leftResizable: true,\n      width: size\n    }\n  }), children);\n};\nRightResizable.propTypes = resizableProps;\nvar Right = function (_a) {\n  var size = _a.size,\n    children = _a.children,\n    resizable = _a.resizable,\n    commonProps = __rest(_a, [\"size\", \"children\", \"resizable\"]);\n  return React.createElement(Space, __assign({}, commonProps, {\n    type: Type.Anchored,\n    anchor: AnchorType.Right,\n    position: {\n      bottom: 0,\n      top: 0,\n      right: 0,\n      leftResizable: resizable,\n      width: size\n    }\n  }), children);\n};\nRight.propTypes = anchoredProps;\nvar BottomResizable = function (_a) {\n  var children = _a.children,\n    size = _a.size,\n    props = __rest(_a, [\"children\", \"size\"]);\n  return React.createElement(Space, __assign({}, props, {\n    type: Type.Anchored,\n    anchor: AnchorType.Bottom,\n    position: {\n      bottom: 0,\n      left: 0,\n      right: 0,\n      topResizable: true,\n      height: size\n    }\n  }), children);\n};\nBottomResizable.propTypes = resizableProps;\nvar Bottom = function (_a) {\n  var size = _a.size,\n    children = _a.children,\n    resizable = _a.resizable,\n    commonProps = __rest(_a, [\"size\", \"children\", \"resizable\"]);\n  return React.createElement(Space, __assign({}, commonProps, {\n    type: Type.Anchored,\n    anchor: AnchorType.Bottom,\n    position: {\n      bottom: 0,\n      left: 0,\n      right: 0,\n      topResizable: resizable,\n      height: size\n    }\n  }), children);\n};\nBottom.propTypes = anchoredProps;\nvar customProps = omit(__assign(__assign({}, anchoredProps), {\n  type: PropTypes.oneOf([Type.Positioned, Type.Fill, Type.Anchored]),\n  anchor: PropTypes.oneOf([AnchorType.Left, AnchorType.Top, AnchorType.Right, AnchorType.Bottom]),\n  anchorSize: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  left: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  top: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  right: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  bottom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  resizeTypes: PropTypes.array\n}), \"size\");\nvar Custom = function (_a) {\n  var children = _a.children,\n    type = _a.type,\n    left = _a.left,\n    top = _a.top,\n    right = _a.right,\n    bottom = _a.bottom,\n    width = _a.width,\n    height = _a.height,\n    anchorSize = _a.anchorSize,\n    anchor = _a.anchor,\n    resizable = _a.resizable,\n    resizeTypes = _a.resizeTypes,\n    props = __rest(_a, [\"children\", \"type\", \"left\", \"top\", \"right\", \"bottom\", \"width\", \"height\", \"anchorSize\", \"anchor\", \"resizable\", \"resizeTypes\"]);\n  var position;\n  type = type || Type.Fill;\n  if (type === Type.Positioned) {\n    position = {\n      left: left,\n      top: top,\n      right: right,\n      bottom: bottom,\n      width: width,\n      height: height,\n      leftResizable: resizeTypes && (resizeTypes.includes(ResizeType.Left) || resizeTypes.includes(ResizeType.All)),\n      topResizable: resizeTypes && (resizeTypes.includes(ResizeType.Top) || resizeTypes.includes(ResizeType.All)),\n      rightResizable: resizeTypes && (resizeTypes.includes(ResizeType.Right) || resizeTypes.includes(ResizeType.All)),\n      bottomResizable: resizeTypes && (resizeTypes.includes(ResizeType.Bottom) || resizeTypes.includes(ResizeType.All)),\n      topLeftResizable: resizeTypes && (resizeTypes.includes(ResizeType.TopLeft) || resizeTypes.includes(ResizeType.All)),\n      topRightResizable: resizeTypes && (resizeTypes.includes(ResizeType.TopRight) || resizeTypes.includes(ResizeType.All)),\n      bottomLeftResizable: resizeTypes && (resizeTypes.includes(ResizeType.BottomLeft) || resizeTypes.includes(ResizeType.All)),\n      bottomRightResizable: resizeTypes && (resizeTypes.includes(ResizeType.BottomRight) || resizeTypes.includes(ResizeType.All))\n    };\n  } else {\n    if (anchor === AnchorType.Left) {\n      position = {\n        left: 0,\n        top: 0,\n        bottom: 0,\n        width: anchorSize,\n        rightResizable: resizable\n      };\n      type = Type.Anchored;\n    } else if (anchor === AnchorType.Right) {\n      position = {\n        right: 0,\n        top: 0,\n        bottom: 0,\n        width: anchorSize,\n        leftResizable: resizable\n      };\n      type = Type.Anchored;\n    } else if (anchor === AnchorType.Top) {\n      position = {\n        left: 0,\n        top: 0,\n        right: 0,\n        height: anchorSize,\n        bottomResizable: resizable\n      };\n      type = Type.Anchored;\n    } else if (anchor === AnchorType.Bottom) {\n      position = {\n        left: 0,\n        bottom: 0,\n        right: 0,\n        height: anchorSize,\n        topResizable: resizable\n      };\n      type = Type.Anchored;\n    } else {\n      position = {\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0\n      };\n      type = Type.Fill;\n    }\n  }\n  return React.createElement(Space, __assign({}, props, {\n    type: type,\n    anchor: anchor,\n    position: position\n  }), children);\n};\nCustom.propTypes = customProps;\nvar Fill = function (props) {\n  return React.createElement(Space, __assign({}, props, {\n    type: Type.Fill,\n    position: {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    }\n  }), props.children);\n};\nFill.propTypes = commonProps;\nvar Fixed = function (_a) {\n  var width = _a.width,\n    height = _a.height,\n    children = _a.children,\n    commonProps = __rest(_a, [\"width\", \"height\", \"children\"]);\n  return React.createElement(Space, __assign({}, commonProps, {\n    type: Type.Fixed,\n    position: {\n      width: width,\n      height: height\n    }\n  }), children);\n};\nFixed.propTypes = __assign(__assign({}, commonProps), {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n});\nvar Layer = function (props) {\n  return React.createElement(LayerContext.Provider, {\n    value: props.zIndex\n  }, props.children);\n};\nLayer.propTypes = {\n  zIndex: PropTypes.number.isRequired\n};\nvar Positioned = function (_a) {\n  var left = _a.left,\n    top = _a.top,\n    right = _a.right,\n    bottom = _a.bottom,\n    width = _a.width,\n    height = _a.height,\n    resizable = _a.resizable,\n    props = __rest(_a, [\"left\", \"top\", \"right\", \"bottom\", \"width\", \"height\", \"resizable\"]);\n  var resizeTypes = resizable || [];\n  return React.createElement(Space, __assign({}, props, {\n    type: Type.Positioned,\n    position: {\n      left: left,\n      top: top,\n      right: right,\n      bottom: bottom,\n      leftResizable: resizeTypes.includes(ResizeType.Left) || resizeTypes.includes(ResizeType.All),\n      topResizable: resizeTypes.includes(ResizeType.Top) || resizeTypes.includes(ResizeType.All),\n      rightResizable: resizeTypes.includes(ResizeType.Right) || resizeTypes.includes(ResizeType.All),\n      bottomResizable: resizeTypes.includes(ResizeType.Bottom) || resizeTypes.includes(ResizeType.All),\n      topLeftResizable: resizeTypes.includes(ResizeType.TopLeft) || resizeTypes.includes(ResizeType.All),\n      topRightResizable: resizeTypes.includes(ResizeType.TopRight) || resizeTypes.includes(ResizeType.All),\n      bottomLeftResizable: resizeTypes.includes(ResizeType.BottomLeft) || resizeTypes.includes(ResizeType.All),\n      bottomRightResizable: resizeTypes.includes(ResizeType.BottomRight) || resizeTypes.includes(ResizeType.All),\n      width: width,\n      height: height\n    }\n  }), props.children);\n};\nPositioned.propTypes = __assign(__assign({}, commonProps), {\n  left: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  top: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  right: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  bottom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  resizable: PropTypes.array\n});\n\n/**\r\n * @deprecated use useCurrentSpace() hook instead\r\n */\nvar Info = function (props) {\n  var domRect = React.useContext(DOMRectContext);\n  if (domRect) {\n    return props.children(domRect);\n  }\n  return props.children({\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: 0,\n    height: 0,\n    x: 0,\n    y: 0,\n    toJSON: function () {\n      return \"\";\n    }\n  });\n};\nvar ViewPort = function (_a) {\n  var left = _a.left,\n    top = _a.top,\n    right = _a.right,\n    bottom = _a.bottom,\n    children = _a.children,\n    commonProps = __rest(_a, [\"left\", \"top\", \"right\", \"bottom\", \"children\"]);\n  return React.createElement(Space, __assign({}, commonProps, {\n    type: Type.ViewPort,\n    position: {\n      left: left || 0,\n      top: top || 0,\n      right: right || 0,\n      bottom: bottom || 0\n    }\n  }), children);\n};\nViewPort.propTypes = __assign(__assign({}, commonProps), {\n  left: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  top: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  right: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  bottom: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n});\nvar SSR = function (_a) {\n  var children = _a.children;\n  enabledSsrSupport();\n  return React.createElement(React.Fragment, null, React.createElement(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: css_248z\n    }\n  }), children);\n};\nvar Options = function (_a) {\n  var children = _a.children,\n    opts = __rest(_a, [\"children\"]);\n  return React.createElement(OptionsContext.Provider, {\n    value: opts\n  }, children);\n};\nexport { AnchorType, Bottom, BottomResizable, CenterType, Centered, CenteredVertically, Custom, Fill, Fixed, Info, Layer, Left, LeftResizable, Options, Positioned, ResizeHandlePlacement, ResizeType, Right, RightResizable, SSR, Top, TopResizable, Type, ViewPort, anchoredProps, enabledSsrSupport, resizableProps, useCurrentSpace };","map":{"version":3,"mappings":"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","names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","Type","AnchorType","Orientation","ResizeType","ResizeHandlePlacement","CenterType","MoveEvent","EndEvent","omit","object","_i","keys","keySet","Object","create","forEach","key","result","shortuuid","firstPart","Math","random","secondPart","toString","slice","getSizeString","size","dontAddCalc","adjusted","length","resized","parts","undefined","push","l","join","coalesce","args","find","x","adjustmentsEqual","item1","item2","i","len","throttle","callback","limit","wait","setTimeout","styleDefinition","space","cssElements","position","left","top","right","bottom","width","height","zIndex","cssString","allowOverflow","id","scrollable","nhandleOffset","handleSize","touchHandleSize","negativeTouchHandleSize","handlePlacement","Inside","OverlayInside","Positioned","OverlayBoundary","handleOffset","addHandleCss","pos","styles","widthOrHeightSpecified","orientation","Horizontal","canResizeLeft","anchor","canResizeTop","canResizeRight","canResizeBottom","canResizeTopLeft","canResizeTopRight","canResizeBottomLeft","canResizeBottomRight","updateStyleDefinition","definition","isServer","existing","getElementById","innerHTML","newStyle","ssrStyle","removeStyleDefinition","removeChild","isHorizontal","resizeType","Left","Right","createSideAdjuster","rect","dimensionToAdjust","originalX","originalY","negater","Bottom","val","candidateOppositeDimensionToAdjust","offset1","offset2","minimumAdjust","minimumSize","maximumAdjust","maximumSize","currentX","currentY","adjustment","dimensionResized","max","createAdjuster","element","getBoundingClientRect","Top","TopLeft","topAdjuster_1","leftAdjuster_1","y","TopRight","top1Adjuster_1","rightAdjuster_1","BottomLeft","bottomAdjuster_1","left1Adjuster_1","BottomRight","bottom1Adjuster_1","right1Adjuster_1","createResize","store","startResize","e","endEvent","moveEvent","getCoords","onResizeEnd","onResizeStart","originalCoords","adjuster","resizing","updateParent","lastX","lastY","moved","resize","updateStyles","withPreventDefault","newCoords","preventDefault","window","requestAnimationFrame","removeListener","removeEventListener","resizeEnd","currentRect","floor","addEventListener","createDrag","onMove","adjustmentX","adjustmentY","startDrag","onDragEnd","coords","adjustedLeft","adjustedTop","originalMouseX_1","originalMouseY_1","lastX_1","lastY_1","moved_1","mouseMove_1","throttledMouseMove_1","withPreventDefault_1","removeListener_1","parentInfo","parentId","getSpace","info","_a","spaceDefaults","centerContent","dimension","toJSON","adjustLeft","adjustRight","adjustTop","adjustBottom","adjustEdge","anchoredChildren","anchorTypes","getPosition","ViewPort","Fixed","getOrientation","Vertical","anchorUpdates","update","sizeInfoDefault","createStore","spaces","setSpaces","newSpaces","getSpaces","s","recalcSpaces","parent","onlyUnique","value","index","self","indexOf","addDefaultOrders","t","anchoredSpaces","filter","zIndices","map","anchoredSpacesInLayer","orderedSpaces","c","order","unorderedSpaces","maxOrder","a","reduce","b","idx","children","changed","Fill","as","Anchored","adjusted_1","addSpace","parentSpace","removeSpace","parent_1","updateSpace","props","leftResizable","rightResizable","topResizable","bottomResizable","topLeftResizable","topRightResizable","bottomLeftResizable","bottomRightResizable","None","createSpace","startMouseResize","startTouchResize","startMouseDrag","startTouchDrag","drag","commonProps","newSpace","__assign","chanchor","event","Mouse","clientX","clientY","Touch","touches","useEffectOnce","effect","destroyFunc","useRef","effectCalled","renderAfterCalled","useState","setVal","current","useEffect","ParentContext","React","createContext","DOMRectContext","LayerContext","OptionsContext","currentStore","PropTypes","string","className","oneOfType","array","any","oneOf","HorizontalVertical","number","bool","trackSize","handleRender","func","onClick","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","useForceUpdate","setTick","useCallback","tick","useUniqueId","SSR_SUPPORT_ENABLED","version","startsWith","useId","replace","unstable_useOpaqueIdentifier","useSpace","useContext","layer","uniqueId","elementRef","resizeSensor","domRect","setDomRect","spaceId","debug","console","table","parsedProps","resizeHandles","useSpaceResizeHandles","DOMRect","ResizeSensor","detach","resizeSetup","condition","mouseHandles","setupResizeHandle","resizeItem","useCurrentSpace","onMouseDrag","onTouchDrag","onForceUpdate","defaults","forceUpdate","enabledSsrSupport","Centered","CenteredVertically","applyCentering","centerType","__extends","Space","SpaceInner","wrapperInstance","Component","idToUse","initialRender","setInitialRender","events","preRenderedStyle","userClasses","split","trim","outerClasses","__spreadArray","innerClasses","innerStyle","centeredContent","outerProps","handleProps","Provider","resizableProps","isRequired","anchoredProps","resizable","LeftResizable","propTypes","TopResizable","RightResizable","BottomResizable","customProps","anchorSize","resizeTypes","Custom","includes","All","Layer","Info","SSR","dangerouslySetInnerHTML","__html","Options","opts"],"sources":["C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\node_modules\\style-inject\\dist\\style-inject.es.js","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\core-types.ts","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\core-utils.ts","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\core-resizing.ts","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\core-dragging.ts","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\core.ts","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\core-react.ts","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\Centered.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\CenteredVertically.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\Space.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\Anchored.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\Custom.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\Fill.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\Fixed.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\Layer.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\Positioned.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\SpaceInfo.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\ViewPort.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\SSR.tsx","C:\\Users\\BN GAMING\\Desktop\\Project\\Matrix-MERN-App\\frontend\\node_modules\\react-spaces\\src\\components\\Options.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export type ResizeMouseEvent = React.MouseEvent<HTMLElement, MouseEvent>;\r\nexport type ResizeTouchEvent = React.TouchEvent<HTMLElement>;\r\nexport type OnResizeStart = ((resizeType?: ResizeType) => void | boolean) | undefined;\r\nexport type OnResizeEnd = ((newSize: SizeUnit, domRect: DOMRect, resizeType?: ResizeType) => void) | undefined;\r\nexport type OnDragEnd = (position: IPosition, moved: boolean) => void;\r\n\r\nexport enum Type {\r\n\tViewPort = \"viewport\",\r\n\tFixed = \"fixed\",\r\n\tFill = \"fill\",\r\n\tPositioned = \"positioned\",\r\n\tAnchored = \"anchored\",\r\n\tCustom = \"custom\",\r\n}\r\n\r\nexport enum AnchorType {\r\n\tLeft = \"anchor-left\",\r\n\tRight = \"anchor-right\",\r\n\tTop = \"anchor-top\",\r\n\tBottom = \"anchor-bottom\",\r\n}\r\n\r\nexport enum Orientation {\r\n\tHorizontal,\r\n\tVertical,\r\n}\r\n\r\nexport type SizeUnit = number | string | undefined;\r\n\r\nexport enum ResizeType {\r\n\tAll = \"resize-all\",\r\n\tLeft = \"resize-left\",\r\n\tRight = \"resize-right\",\r\n\tTop = \"resize-top\",\r\n\tBottom = \"resize-bottom\",\r\n\tTopLeft = \"resize-topleft\",\r\n\tTopRight = \"resize-topright\",\r\n\tBottomLeft = \"resize-bottomleft\",\r\n\tBottomRight = \"resize-bottomright\",\r\n}\r\n\r\nexport enum ResizeHandlePlacement {\r\n\tOverlayInside = \"overlay-inside\",\r\n\tInside = \"inside\",\r\n\tOverlayBoundary = \"overlay-boundary\",\r\n}\r\n\r\nexport enum CenterType {\r\n\tNone = \"none\",\r\n\tVertical = \"vertical\",\r\n\tHorizontalVertical = \"horizontalVertical\",\r\n}\r\n\r\nexport enum MoveEvent {\r\n\tMouse = \"mousemove\",\r\n\tTouch = \"touchmove\",\r\n}\r\n\r\nexport enum EndEvent {\r\n\tMouse = \"mouseup\",\r\n\tTouch = \"touchend\",\r\n}\r\n\r\nexport interface ICommonProps {\r\n\tid?: string;\r\n\tclassName?: string;\r\n\tcenterContent?: CenterType;\r\n\tzIndex?: number;\r\n\tscrollable?: boolean;\r\n\ttrackSize?: boolean;\r\n\tallowOverflow?: boolean;\r\n}\r\n\r\nexport interface ISpaceProps extends ICommonProps {\r\n\ttype: Type;\r\n\tanchor?: AnchorType | undefined;\r\n\torder?: number | undefined;\r\n\tposition?: IPositionalProps | undefined;\r\n\thandleSize?: number | undefined;\r\n\thandlePlacement?: ResizeHandlePlacement;\r\n\ttouchHandleSize?: number | undefined;\r\n\tminimumSize?: number | undefined;\r\n\tmaximumSize?: number | undefined;\r\n\tonResizeStart?: OnResizeStart;\r\n\tonResizeEnd?: OnResizeEnd;\r\n}\r\n\r\nexport interface ISpaceStore {\r\n\tgetSpaces: () => ISpaceDefinition[];\r\n\tgetSpace: (id: string) => ISpaceDefinition | undefined;\r\n\taddSpace: (space: ISpaceDefinition) => void;\r\n\tupdateSpace: (space: ISpaceDefinition, props: ISpaceProps) => void;\r\n\tupdateStyles: (space: ISpaceDefinition) => void;\r\n\tremoveSpace: (space: ISpaceDefinition) => void;\r\n\tcreateSpace: (parent: string | undefined, props: ISpaceProps, update: () => void) => ISpaceDefinition;\r\n\tstartMouseResize: (resizeType: ResizeType, space: ISpaceDefinition, event: React.MouseEvent<HTMLElement>, onResizeEnd?: OnResizeEnd) => void;\r\n\tstartTouchResize: (resizeType: ResizeType, space: ISpaceDefinition, event: React.TouchEvent<HTMLElement>, onResizeEnd?: OnResizeEnd) => void;\r\n\tstartMouseDrag: (space: ISpaceDefinition, event: ResizeMouseEvent, onDragEnd?: OnDragEnd) => void;\r\n\tstartTouchDrag: (space: ISpaceDefinition, event: ResizeTouchEvent, onDragEnd?: OnDragEnd) => void;\r\n}\r\n\r\nexport interface IPosition {\r\n\tleft?: SizeUnit | undefined;\r\n\ttop?: SizeUnit | undefined;\r\n\tright?: SizeUnit | undefined;\r\n\tbottom?: SizeUnit | undefined;\r\n\twidth?: SizeUnit | undefined;\r\n\theight?: SizeUnit | undefined;\r\n}\r\n\r\nexport interface IPositionalProps extends IPosition {\r\n\tleftResizable?: boolean;\r\n\ttopResizable?: boolean;\r\n\trightResizable?: boolean;\r\n\tbottomResizable?: boolean;\r\n\ttopLeftResizable?: boolean;\r\n\ttopRightResizable?: boolean;\r\n\tbottomLeftResizable?: boolean;\r\n\tbottomRightResizable?: boolean;\r\n}\r\n\r\nexport interface ISize {\r\n\tsize: SizeUnit;\r\n\tadjusted: SizeUnit[];\r\n\tresized: number;\r\n}\r\n\r\nexport interface ISpaceDefinition {\r\n\tupdate: () => void;\r\n\tupdateParent: () => void;\r\n\tadjustLeft: (adjusted: SizeUnit[]) => boolean;\r\n\tadjustRight: (adjusted: SizeUnit[]) => boolean;\r\n\tadjustTop: (adjusted: SizeUnit[]) => boolean;\r\n\tadjustBottom: (adjusted: SizeUnit[]) => boolean;\r\n\tadjustEdge: (adjusted: SizeUnit[]) => boolean;\r\n\tanchoredChildren: (children: ISpaceDefinition[], anchor: AnchorType, zIndex: number) => ISpaceDefinition[];\r\n\tonResizeStart?: OnResizeStart;\r\n\tonResizeEnd?: OnResizeEnd;\r\n\telement: HTMLElement;\r\n\tid: string;\r\n\ttype: Type;\r\n\tanchor?: AnchorType;\r\n\torientation: Orientation;\r\n\tscrollable: boolean;\r\n\torder?: number;\r\n\tposition: \"fixed\" | \"absolute\" | \"relative\";\r\n\tchildren: ISpaceDefinition[];\r\n\tparentId: string | undefined;\r\n\tstore: ISpaceStore;\r\n\tleft: ISize;\r\n\ttop: ISize;\r\n\tright: ISize;\r\n\tbottom: ISize;\r\n\twidth: ISize;\r\n\theight: ISize;\r\n\tzIndex: number;\r\n\tdimension: DOMRect;\r\n\tcenterContent: \"none\" | \"vertical\" | \"horizontalVertical\";\r\n\tresizing: boolean;\r\n\tminimumSize?: number;\r\n\tmaximumSize?: number;\r\n\thandleSize: number;\r\n\ttouchHandleSize: number;\r\n\thandlePlacement: ResizeHandlePlacement;\r\n\tcanResizeTop: boolean;\r\n\tcanResizeLeft: boolean;\r\n\tcanResizeRight: boolean;\r\n\tcanResizeBottom: boolean;\r\n\tcanResizeTopLeft: boolean;\r\n\tcanResizeTopRight: boolean;\r\n\tcanResizeBottomLeft: boolean;\r\n\tcanResizeBottomRight: boolean;\r\n\tallowOverflow: boolean;\r\n\tssrStyle: string;\r\n}\r\n\r\nexport interface ISpaceContext {\r\n\tsize: DOMRect;\r\n\tlayer: number;\r\n\tstartMouseDrag: (e: ResizeMouseEvent, onDragEnd?: OnDragEnd) => void;\r\n\tstartTouchDrag: (e: ResizeTouchEvent, onDragEnd?: OnDragEnd) => void;\r\n\tforceUpdate: () => void;\r\n\tssrStyle?: string;\r\n}\r\n","import { ISpaceDefinition, SizeUnit, ISize, ResizeHandlePlacement, Type, Orientation } from \"./core-types\";\r\n\r\nexport function omit<K extends string, T extends Record<K, unknown>>(object: T, ...keys: K[]): Omit<T, K> {\r\n\tconst keySet = Object.create(null) as Record<K, true>;\r\n\tkeys.forEach((key) => {\r\n\t\tkeySet[key] = true;\r\n\t});\r\n\r\n\tconst result = Object.create(null) as Omit<T, K>;\r\n\tObject.keys(object).forEach((key) => {\r\n\t\tif (!keySet[key]) {\r\n\t\t\tresult[key] = object[key];\r\n\t\t}\r\n\t});\r\n\r\n\treturn result;\r\n}\r\n\r\nexport function shortuuid() {\r\n\tlet firstPart = (Math.random() * 46656) | 0;\r\n\tlet secondPart = (Math.random() * 46656) | 0;\r\n\treturn (\"000\" + firstPart.toString(36)).slice(-3) + (\"000\" + secondPart.toString(36)).slice(-3);\r\n}\r\n\r\nexport function getSizeString(size: SizeUnit) {\r\n\treturn typeof size === \"string\" ? size : `${size}px`;\r\n}\r\n\r\nexport function css(size: ISize, dontAddCalc?: boolean) {\r\n\tif (size.size === 0 && size.adjusted.length === 0 && size.resized === 0) {\r\n\t\treturn `0px`;\r\n\t}\r\n\r\n\tconst parts: string[] = [];\r\n\tif (size.size !== undefined) {\r\n\t\tparts.push(getSizeString(size.size));\r\n\t}\r\n\r\n\tsize.adjusted.forEach((l) => parts.push(getSizeString(l)));\r\n\r\n\tif (size.resized !== 0) {\r\n\t\tparts.push(getSizeString(size.resized));\r\n\t}\r\n\r\n\tif (parts.length === 0) {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tif (parts.length === 1) {\r\n\t\treturn parts[0];\r\n\t}\r\n\r\n\tif (dontAddCalc) {\r\n\t\treturn parts.join(\" + \");\r\n\t}\r\n\r\n\treturn `calc(${parts.join(\" + \")})`;\r\n}\r\n\r\nexport function coalesce<T>(...args: T[]) {\r\n\treturn args.find((x) => x !== null && x !== undefined);\r\n}\r\n\r\nexport function adjustmentsEqual(item1: SizeUnit[], item2: SizeUnit[]) {\r\n\tif (item1.length !== item2.length) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfor (var i = 0, len = item1.length; i < len; i++) {\r\n\t\tif (item1[i] !== item2[i]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nexport function throttle<F extends (...args: any) => any>(callback: F, limit: number) {\r\n\tvar wait = false; // Initially, we're not waiting\r\n\treturn function(...args: any) {\r\n\t\t// We return a throttled function\r\n\t\tif (!wait) {\r\n\t\t\t// If we're not waiting\r\n\t\t\tcallback(...args); // Execute users function\r\n\t\t\twait = true; // Prevent future invocations\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t// After a period of time\r\n\t\t\t\twait = false; // And allow future invocations\r\n\t\t\t}, limit);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport function styleDefinition(space: ISpaceDefinition) {\r\n\tconst cssElements: string[] = [];\r\n\r\n\tconst style: React.CSSProperties = {\r\n\t\tposition: space.position,\r\n\t\tleft: css(space.left),\r\n\t\ttop: css(space.top),\r\n\t\tright: css(space.right),\r\n\t\tbottom: css(space.bottom),\r\n\t\twidth: css(space.width),\r\n\t\theight: css(space.height),\r\n\t\tzIndex: space.zIndex,\r\n\t};\r\n\r\n\tconst cssString: string[] = [];\r\n\r\n\tif (style.position) {\r\n\t\tcssString.push(`position: ${style.position};`);\r\n\t}\r\n\tif (style.left) {\r\n\t\tcssString.push(`left: ${style.left};`);\r\n\t}\r\n\tif (style.top) {\r\n\t\tcssString.push(`top: ${style.top};`);\r\n\t}\r\n\tif (style.right) {\r\n\t\tcssString.push(`right: ${style.right};`);\r\n\t}\r\n\tif (style.bottom) {\r\n\t\tcssString.push(`bottom: ${style.bottom};`);\r\n\t}\r\n\tif (style.width) {\r\n\t\tcssString.push(`width: ${style.width};`);\r\n\t}\r\n\tif (style.height) {\r\n\t\tcssString.push(`height: ${style.height};`);\r\n\t}\r\n\tif (style.zIndex) {\r\n\t\tcssString.push(`z-index: ${style.zIndex};`);\r\n\t}\r\n\tif (space.allowOverflow) {\r\n\t\tcssString.push(\"overflow: visible;\");\r\n\t}\r\n\r\n\tif (cssString.length > 0) {\r\n\t\tcssElements.push(`#${space.id} { ${cssString.join(\" \")} }`);\r\n\t}\r\n\r\n\tif (space.scrollable) {\r\n\t\tcssElements.push(`#${space.id} > .spaces-space-inner { overflow: auto; touch-action: auto; }`);\r\n\t}\r\n\r\n\tlet nhandleOffset = 0;\r\n\tconst handleSize = `${space.handleSize}px`;\r\n\tconst touchHandleSize = `-${space.touchHandleSize / 2 - space.handleSize / 2}px`;\r\n\tconst negativeTouchHandleSize = `${space.touchHandleSize / 2 - space.handleSize / 2}px`;\r\n\r\n\tswitch (space.handlePlacement) {\r\n\t\tcase ResizeHandlePlacement.Inside:\r\n\t\tcase ResizeHandlePlacement.OverlayInside:\r\n\t\t\tnhandleOffset = space.handleSize;\r\n\t\t\tif (space.type === Type.Positioned) {\r\n\t\t\t\tnhandleOffset = 0;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase ResizeHandlePlacement.OverlayBoundary:\r\n\t\t\tnhandleOffset = space.handleSize / 2;\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tconst handleOffset = `${nhandleOffset}px`;\r\n\r\n\tconst addHandleCss = (id: string, pos: { left?: string; top?: string; right?: string; bottom?: string; width?: string; height?: string }) => {\r\n\t\tconst styles: string[] = [];\r\n\r\n\t\tif (pos.left) styles.push(`left: ${pos.left}`);\r\n\t\tif (pos.top) styles.push(`top: ${pos.top}`);\r\n\t\tif (pos.right) styles.push(`right: ${pos.right}`);\r\n\t\tif (pos.bottom) styles.push(`bottom: ${pos.bottom}`);\r\n\t\tif (pos.width) styles.push(`width: ${pos.width}`);\r\n\t\tif (pos.height) styles.push(`height: ${pos.height}`);\r\n\r\n\t\tcssElements.push(`#${space.id}-${id} { ${styles.join(\"; \")}}`);\r\n\t};\r\n\r\n\tconst widthOrHeightSpecified = () =>\r\n\t\tspace.type === Type.Positioned\r\n\t\t\t? space.width.size && space.height.size\r\n\t\t\t: space.orientation == Orientation.Horizontal\r\n\t\t\t? space.width.size\r\n\t\t\t: space.height.size;\r\n\r\n\tif (space.canResizeLeft) {\r\n\t\tif (space.anchor) {\r\n\t\t\taddHandleCss(\"ml\", {\r\n\t\t\t\tright: `calc(${css(space.right, true)} + ${css(space.width)} - ${handleOffset})`,\r\n\t\t\t\ttop: `0`,\r\n\t\t\t\tbottom: `0`,\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"ml\", {\r\n\t\t\t\tleft: `calc(${css(space.left, true)} - ${handleOffset})`,\r\n\t\t\t\ttop: css(space.top),\r\n\t\t\t\tbottom: css(space.bottom),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: css(space.height),\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"ml:after\", {\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeTop) {\r\n\t\tif (space.anchor) {\r\n\t\t\taddHandleCss(\"mt\", {\r\n\t\t\t\tleft: `0`,\r\n\t\t\t\tright: `0`,\r\n\t\t\t\tbottom: `calc(${css(space.bottom)} + ${css(space.height)} - ${handleOffset})`,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t\taddHandleCss(\"mt:after\", {\r\n\t\t\t\ttop: touchHandleSize,\r\n\t\t\t\tbottom: touchHandleSize,\r\n\t\t\t\tleft: touchHandleSize,\r\n\t\t\t\twidth: css(space.width),\r\n\t\t\t\tright: touchHandleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mt\", {\r\n\t\t\t\ttop: `calc(${css(space.top, true)} - ${handleOffset})`,\r\n\t\t\t\tleft: css(space.left),\r\n\t\t\t\tright: css(space.right),\r\n\t\t\t\twidth: css(space.width),\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t\tif (widthOrHeightSpecified()) {\r\n\t\t\t\taddHandleCss(\"mt:after\", {\r\n\t\t\t\t\ttop: touchHandleSize,\r\n\t\t\t\t\tbottom: touchHandleSize,\r\n\t\t\t\t\tleft: touchHandleSize,\r\n\t\t\t\t\twidth: `calc(${css(space.width, true)} - ${handleOffset}) + ${negativeTouchHandleSize}`,\r\n\t\t\t\t\tright: touchHandleSize,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\taddHandleCss(\"mt:after\", {\r\n\t\t\t\t\ttop: touchHandleSize,\r\n\t\t\t\t\tbottom: touchHandleSize,\r\n\t\t\t\t\tleft: touchHandleSize,\r\n\t\t\t\t\twidth: css(space.width),\r\n\t\t\t\t\tright: touchHandleSize,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (space.canResizeRight) {\r\n\t\tif (widthOrHeightSpecified()) {\r\n\t\t\taddHandleCss(\"mr\", {\r\n\t\t\t\tleft: `calc(${css(space.left, true)} + ${css(space.width, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\ttop: css(space.top),\r\n\t\t\t\tbottom: css(space.bottom),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: css(space.height),\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mr\", {\r\n\t\t\t\tright: `calc(${css(space.right, true)} - ${handleOffset})`,\r\n\t\t\t\ttop: css(space.top),\r\n\t\t\t\tbottom: css(space.bottom),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: css(space.height),\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"mr:after\", {\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeBottom) {\r\n\t\tif (widthOrHeightSpecified()) {\r\n\t\t\taddHandleCss(\"mb\", {\r\n\t\t\t\ttop: `calc(${css(space.top, true)} + ${css(space.height, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\tleft: css(space.left),\r\n\t\t\t\tright: css(space.right),\r\n\t\t\t\twidth: css(space.width),\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mb\", {\r\n\t\t\t\tbottom: `calc(${css(space.bottom, true)} - ${handleOffset})`,\r\n\t\t\t\tleft: css(space.left),\r\n\t\t\t\tright: css(space.right),\r\n\t\t\t\twidth: css(space.width),\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"mb:after\", {\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeTopLeft) {\r\n\t\taddHandleCss(\"mtl\", {\r\n\t\t\tleft: `calc(${css(space.left, true)} - ${handleOffset})`,\r\n\t\t\ttop: css(space.top),\r\n\t\t\twidth: handleSize,\r\n\t\t\theight: handleSize,\r\n\t\t});\r\n\t\taddHandleCss(\"mtl:after\", {\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeTopRight) {\r\n\t\tif (widthOrHeightSpecified()) {\r\n\t\t\taddHandleCss(\"mtr\", {\r\n\t\t\t\tleft: `calc(${css(space.left, true)} + ${css(space.width, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\ttop: css(space.top),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mtr\", {\r\n\t\t\t\tright: `calc(${css(space.right, true)} - ${handleOffset})`,\r\n\t\t\t\ttop: css(space.top),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"mtr:after\", {\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeBottomLeft) {\r\n\t\tif (widthOrHeightSpecified()) {\r\n\t\t\taddHandleCss(\"mbl\", {\r\n\t\t\t\ttop: `calc(${css(space.top, true)} + ${css(space.height, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\tleft: css(space.left),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mbl\", {\r\n\t\t\t\tbottom: `calc(${css(space.bottom, true)} - ${handleOffset})`,\r\n\t\t\t\tleft: css(space.left),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"mbl:after\", {\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeBottomRight) {\r\n\t\tif (widthOrHeightSpecified()) {\r\n\t\t\taddHandleCss(\"mbr\", {\r\n\t\t\t\tleft: `calc(${css(space.left, true)} + ${css(space.width, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\ttop: `calc(${css(space.top, true)} + ${css(space.height, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mbr\", {\r\n\t\t\t\tright: `calc(${css(space.right, true)} - ${handleOffset})`,\r\n\t\t\t\tbottom: `calc(${css(space.bottom, true)} - ${handleOffset})`,\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"mbr:after\", {\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\treturn cssElements.join(\" \");\r\n}\r\n\r\nexport function updateStyleDefinition(space: ISpaceDefinition) {\r\n\tconst definition = styleDefinition(space);\r\n\tif (!isServer()) {\r\n\t\tconst existing = document.getElementById(`style_${space.id}`);\r\n\t\tif (existing) {\r\n\t\t\tif (existing.innerHTML !== definition) {\r\n\t\t\t\texisting.innerHTML = definition;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst newStyle = document.createElement(\"style\");\r\n\t\t\tnewStyle.id = `style_${space.id}`;\r\n\t\t\tnewStyle.innerHTML = definition;\r\n\t\t\tdocument.head.appendChild(newStyle);\r\n\t\t}\r\n\t} else {\r\n\t\tspace.ssrStyle = definition;\r\n\t}\r\n}\r\n\r\nexport function removeStyleDefinition(space: ISpaceDefinition) {\r\n\tconst existing = document.getElementById(`style_${space.id}`);\r\n\tif (existing) {\r\n\t\tdocument.head.removeChild(existing);\r\n\t}\r\n}\r\n\r\nexport function isServer() {\r\n\tif (typeof document !== \"undefined\") {\r\n\t\tif (document) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n","import { SyntheticEvent } from \"react\";\r\nimport { ISpaceDefinition, ResizeType, ISpaceStore, OnResizeEnd, EndEvent, MoveEvent, Type, ISize } from \"./core-types\";\r\nimport { coalesce, throttle } from \"./core-utils\";\r\n\r\nconst RESIZE_THROTTLE = 0;\r\n\r\nexport interface IResizeChange {\r\n\tx: number;\r\n\ty: number;\r\n}\r\n\r\nfunction isHorizontal(resizeType: ResizeType) {\r\n\treturn resizeType === ResizeType.Left || resizeType === ResizeType.Right;\r\n}\r\n\r\ntype ResizeAdjuster = (currentX: number, currentY: number) => void;\r\n\r\nfunction createSideAdjuster(\r\n\trect: DOMRect,\r\n\tresizeType: ResizeType,\r\n\tdimensionToAdjust: ISize,\r\n\tspace: ISpaceDefinition,\r\n\toriginalX: number,\r\n\toriginalY: number,\r\n): ResizeAdjuster {\r\n\tconst negater = resizeType === ResizeType.Right || resizeType === ResizeType.Bottom ? (val: number) => -val : (val: number) => val;\r\n\r\n\tconst candidateOppositeDimensionToAdjust = isHorizontal(resizeType) ? space.width : space.height;\r\n\r\n\tconst offset1 = dimensionToAdjust.resized;\r\n\tconst offset2 = candidateOppositeDimensionToAdjust.resized;\r\n\r\n\tconst size = isHorizontal(resizeType) ? rect.width : rect.height;\r\n\tconst minimumAdjust = coalesce(space.minimumSize, 20)! - size + 0;\r\n\tconst maximumAdjust = space.maximumSize ? space.maximumSize - size + 0 : undefined;\r\n\r\n\treturn (currentX: number, currentY: number) => {\r\n\t\tlet adjustment = (isHorizontal(resizeType) ? originalX : originalY) - (isHorizontal(resizeType) ? currentX : currentY);\r\n\t\tlet dimensionResized = negater(adjustment);\r\n\r\n\t\tif (space.type !== Type.Positioned) {\r\n\t\t\tdimensionResized = Math.max(negater(adjustment), minimumAdjust);\r\n\r\n\t\t\tif (dimensionResized < minimumAdjust) {\r\n\t\t\t\tdimensionResized = minimumAdjust;\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof maximumAdjust === \"number\") {\r\n\t\t\t\tif (dimensionResized > maximumAdjust) {\r\n\t\t\t\t\tdimensionResized = maximumAdjust;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (dimensionToAdjust.size !== undefined) {\r\n\t\t\tdimensionToAdjust.resized = negater(-adjustment) + offset1;\r\n\t\t\tif (candidateOppositeDimensionToAdjust.size) {\r\n\t\t\t\tcandidateOppositeDimensionToAdjust.resized = negater(adjustment) + offset2;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcandidateOppositeDimensionToAdjust.resized = dimensionResized + offset2;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction createAdjuster(resizeType: ResizeType, space: ISpaceDefinition, originalX: number, originalY: number): ResizeAdjuster {\r\n\tconst rect = space.element.getBoundingClientRect();\r\n\tswitch (resizeType) {\r\n\t\tcase ResizeType.Left:\r\n\t\t\treturn createSideAdjuster(rect, resizeType, space.left, space, originalX, originalY);\r\n\t\tcase ResizeType.Right:\r\n\t\t\treturn createSideAdjuster(rect, resizeType, space.right, space, originalX, originalY);\r\n\t\tcase ResizeType.Bottom:\r\n\t\t\treturn createSideAdjuster(rect, resizeType, space.bottom, space, originalX, originalY);\r\n\t\tcase ResizeType.Top:\r\n\t\t\treturn createSideAdjuster(rect, resizeType, space.top, space, originalX, originalY);\r\n\t\tcase ResizeType.TopLeft:\r\n\t\t\tconst topAdjuster = createSideAdjuster(rect, ResizeType.Top, space.top, space, originalX, originalY);\r\n\t\t\tconst leftAdjuster = createSideAdjuster(rect, ResizeType.Left, space.left, space, originalX, originalY);\r\n\t\t\treturn (x, y) => {\r\n\t\t\t\ttopAdjuster(x, y);\r\n\t\t\t\tleftAdjuster(x, y);\r\n\t\t\t};\r\n\t\tcase ResizeType.TopRight:\r\n\t\t\tconst top1Adjuster = createSideAdjuster(rect, ResizeType.Top, space.top, space, originalX, originalY);\r\n\t\t\tconst rightAdjuster = createSideAdjuster(rect, ResizeType.Right, space.right, space, originalX, originalY);\r\n\t\t\treturn (x, y) => {\r\n\t\t\t\ttop1Adjuster(x, y);\r\n\t\t\t\trightAdjuster(x, y);\r\n\t\t\t};\r\n\t\tcase ResizeType.BottomLeft:\r\n\t\t\tconst bottomAdjuster = createSideAdjuster(rect, ResizeType.Bottom, space.bottom, space, originalX, originalY);\r\n\t\t\tconst left1Adjuster = createSideAdjuster(rect, ResizeType.Left, space.left, space, originalX, originalY);\r\n\t\t\treturn (x, y) => {\r\n\t\t\t\tbottomAdjuster(x, y);\r\n\t\t\t\tleft1Adjuster(x, y);\r\n\t\t\t};\r\n\t\tcase ResizeType.BottomRight:\r\n\t\t\tconst bottom1Adjuster = createSideAdjuster(rect, ResizeType.Bottom, space.bottom, space, originalX, originalY);\r\n\t\t\tconst right1Adjuster = createSideAdjuster(rect, ResizeType.Right, space.right, space, originalX, originalY);\r\n\t\t\treturn (x, y) => {\r\n\t\t\t\tbottom1Adjuster(x, y);\r\n\t\t\t\tright1Adjuster(x, y);\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\tthrow `Resize type ${resizeType} not supported`;\r\n\t}\r\n}\r\n\r\nexport function createResize(store: ISpaceStore) {\r\n\treturn {\r\n\t\tstartResize<T extends SyntheticEvent<HTMLElement> | MouseEvent | TouchEvent>(\r\n\t\t\te: T,\r\n\t\t\tresizeType: ResizeType,\r\n\t\t\tspace: ISpaceDefinition,\r\n\t\t\tendEvent: EndEvent,\r\n\t\t\tmoveEvent: MoveEvent,\r\n\t\t\tgetCoords: (event: T) => { x: number; y: number },\r\n\t\t\tonResizeEnd?: OnResizeEnd,\r\n\t\t) {\r\n\t\t\tif (space.onResizeStart) {\r\n\t\t\t\tconst result = space.onResizeStart(resizeType);\r\n\t\t\t\tif (typeof result === \"boolean\" && !result) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst originalCoords = getCoords(e);\r\n\t\t\tconst adjuster = createAdjuster(resizeType, space, originalCoords.x, originalCoords.y);\r\n\r\n\t\t\tspace.resizing = true;\r\n\t\t\tspace.updateParent();\r\n\r\n\t\t\tlet lastX = 0;\r\n\t\t\tlet lastY = 0;\r\n\t\t\tlet moved = false;\r\n\r\n\t\t\tconst resize = (currentX: number, currentY: number) => {\r\n\t\t\t\tadjuster(currentX, currentY);\r\n\t\t\t\tstore.updateStyles(space);\r\n\t\t\t};\r\n\r\n\t\t\tconst withPreventDefault = (e: T) => {\r\n\t\t\t\tmoved = true;\r\n\t\t\t\tconst newCoords = getCoords(e);\r\n\t\t\t\tlastX = newCoords.x;\r\n\t\t\t\tlastY = newCoords.y;\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif (RESIZE_THROTTLE > 0) {\r\n\t\t\t\t\tthrottle(\r\n\t\t\t\t\t\t(x, y) =>\r\n\t\t\t\t\t\t\twindow.requestAnimationFrame(() => {\r\n\t\t\t\t\t\t\t\tif (space.resizing) {\r\n\t\t\t\t\t\t\t\t\tresize(x, y);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tRESIZE_THROTTLE,\r\n\t\t\t\t\t)(lastX, lastY);\r\n\t\t\t\t} else {\r\n\t\t\t\t\twindow.requestAnimationFrame(() => {\r\n\t\t\t\t\t\tif (space.resizing) {\r\n\t\t\t\t\t\t\tresize(lastX, lastY);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tconst removeListener = () => {\r\n\t\t\t\tspace.resizing = false;\r\n\r\n\t\t\t\tif (moved) {\r\n\t\t\t\t\tresize(lastX, lastY);\r\n\t\t\t\t}\r\n\r\n\t\t\t\twindow.removeEventListener(moveEvent, withPreventDefault as EventListener);\r\n\t\t\t\twindow.removeEventListener(endEvent, removeListener);\r\n\t\t\t\tspace.updateParent();\r\n\r\n\t\t\t\tconst resizeEnd = onResizeEnd || space.onResizeEnd;\r\n\t\t\t\tif (resizeEnd) {\r\n\t\t\t\t\tconst currentRect = space.element.getBoundingClientRect();\r\n\t\t\t\t\tresizeEnd(Math.floor(isHorizontal(resizeType) ? currentRect.width : currentRect.height), currentRect as DOMRect, resizeType);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\twindow.addEventListener(moveEvent, withPreventDefault as EventListener);\r\n\t\t\twindow.addEventListener(endEvent, removeListener);\r\n\t\t},\r\n\t};\r\n}\r\n","import { SyntheticEvent } from \"react\";\nimport { ISpaceDefinition, ISpaceStore, EndEvent, MoveEvent, OnDragEnd } from \"./core-types\";\nimport { throttle } from \"./core-utils\";\n\nexport function createDrag(store: ISpaceStore) {\n\tfunction onMove(space: ISpaceDefinition, originalX: number, originalY: number, x: number, y: number) {\n\t\tconst adjustmentX = -(originalX - x);\n\t\tconst adjustmentY = -(originalY - y);\n\n\t\tspace.left.adjusted = [adjustmentX];\n\t\tspace.top.adjusted = [adjustmentY];\n\n\t\tif (space.right.size) {\n\t\t\tspace.right.adjusted = [-adjustmentX];\n\t\t}\n\n\t\tif (space.bottom.size) {\n\t\t\tspace.bottom.adjusted = [-adjustmentY];\n\t\t}\n\n\t\tstore.updateStyles(space);\n\t}\n\n\treturn {\n\t\tstartDrag<T extends SyntheticEvent<HTMLElement> | MouseEvent | TouchEvent>(\n\t\t\te: T,\n\t\t\tspace: ISpaceDefinition,\n\t\t\tendEvent: EndEvent,\n\t\t\tmoveEvent: MoveEvent,\n\t\t\tgetCoords: (event: T) => { x: number; y: number },\n\t\t\tonDragEnd?: OnDragEnd,\n\t\t) {\n\t\t\tif (space.element) {\n\t\t\t\tconst coords = getCoords(e);\n\t\t\t\tconst adjustedLeft = space.left.adjusted.length === 0 ? 0 : (space.left.adjusted[0] as number);\n\t\t\t\tconst adjustedTop = space.top.adjusted.length === 0 ? 0 : (space.top.adjusted[0] as number);\n\t\t\t\tconst originalMouseX = coords.x - adjustedLeft;\n\t\t\t\tconst originalMouseY = coords.y - adjustedTop;\n\t\t\t\tlet lastX = 0;\n\t\t\t\tlet lastY = 0;\n\t\t\t\tlet moved = false;\n\n\t\t\t\tconst mouseMove = (x: number, y: number) => onMove(space, originalMouseX, originalMouseY, x, y);\n\t\t\t\tconst throttledMouseMove = throttle<typeof mouseMove>(mouseMove, 5);\n\n\t\t\t\tconst withPreventDefault = (e: T) => {\n\t\t\t\t\tmoved = true;\n\t\t\t\t\tconst newCoords = getCoords(e);\n\t\t\t\t\tlastX = newCoords.x;\n\t\t\t\t\tlastY = newCoords.y;\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tthrottledMouseMove(lastX, lastY);\n\t\t\t\t};\n\n\t\t\t\tconst removeListener = () => {\n\t\t\t\t\tif (moved) {\n\t\t\t\t\t\tmouseMove(lastX, lastY);\n\t\t\t\t\t}\n\t\t\t\t\twindow.removeEventListener(moveEvent, withPreventDefault as EventListener);\n\t\t\t\t\twindow.removeEventListener(endEvent, removeListener);\n\n\t\t\t\t\tif (onDragEnd) {\n\t\t\t\t\t\tconst parentInfo = (space.parentId && store.getSpace(space.parentId)?.element.getBoundingClientRect()) || {\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\t\theight: 0,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst info = (({ left, top, right, bottom, width, height }) => ({ left, top, right, bottom, width, height }))(\n\t\t\t\t\t\t\tspace.element.getBoundingClientRect(),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tonDragEnd(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...info,\n\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\tleft: info.left - parentInfo.left,\n\t\t\t\t\t\t\t\t\ttop: info.top - parentInfo.top,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmoved,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\twindow.addEventListener(moveEvent, withPreventDefault as EventListener);\n\t\t\t\twindow.addEventListener(endEvent, removeListener);\n\t\t\t}\n\t\t},\n\t};\n}\n","import {\r\n\tISpaceDefinition,\r\n\tSizeUnit,\r\n\tAnchorType,\r\n\tType,\r\n\tOrientation,\r\n\tEndEvent,\r\n\tMoveEvent,\r\n\tISpaceStore,\r\n\tISpaceProps,\r\n\tCenterType,\r\n\tResizeHandlePlacement,\r\n} from \"./core-types\";\r\nimport { createResize } from \"./core-resizing\";\r\nimport { updateStyleDefinition, removeStyleDefinition, coalesce, adjustmentsEqual } from \"./core-utils\";\r\nimport { createDrag } from \"./core-dragging\";\r\n\r\nconst spaceDefaults: Partial<ISpaceDefinition> = {\r\n\tid: \"\",\r\n\tzIndex: 0,\r\n\tscrollable: false,\r\n\tresizing: false,\r\n\tallowOverflow: false,\r\n\tcenterContent: \"none\",\r\n\tdimension: { left: 0, top: 0, right: 0, bottom: 0, width: 0, height: 0, x: 0, y: 0, toJSON: () => \"\" },\r\n\thandleSize: 5,\r\n\ttouchHandleSize: 5,\r\n\thandlePlacement: ResizeHandlePlacement.OverlayInside,\r\n\tadjustLeft: () => false,\r\n\tadjustRight: () => false,\r\n\tadjustTop: () => false,\r\n\tadjustBottom: () => false,\r\n\tadjustEdge: () => false,\r\n\tanchoredChildren: () => [],\r\n};\r\n\r\nconst anchorTypes = [AnchorType.Left, AnchorType.Top, AnchorType.Right, AnchorType.Bottom];\r\n\r\nfunction getPosition(type: Type) {\r\n\tif (type === Type.ViewPort) {\r\n\t\treturn \"fixed\";\r\n\t}\r\n\tif (type === Type.Fixed) {\r\n\t\treturn \"relative\";\r\n\t}\r\n\treturn \"absolute\";\r\n}\r\n\r\nfunction getOrientation(anchor: AnchorType | undefined) {\r\n\treturn anchor === AnchorType.Bottom || anchor === AnchorType.Top ? Orientation.Vertical : Orientation.Horizontal;\r\n}\r\n\r\nfunction anchorUpdates(space: ISpaceDefinition) {\r\n\treturn [\r\n\t\t{\r\n\t\t\tanchor: AnchorType.Left,\r\n\t\t\tupdate: space.adjustLeft,\r\n\t\t},\r\n\t\t{\r\n\t\t\tanchor: AnchorType.Top,\r\n\t\t\tupdate: space.adjustTop,\r\n\t\t},\r\n\t\t{\r\n\t\t\tanchor: AnchorType.Right,\r\n\t\t\tupdate: space.adjustRight,\r\n\t\t},\r\n\t\t{\r\n\t\t\tanchor: AnchorType.Bottom,\r\n\t\t\tupdate: space.adjustBottom,\r\n\t\t},\r\n\t];\r\n}\r\n\r\nfunction sizeInfoDefault(size: SizeUnit) {\r\n\treturn { size: size, adjusted: [], resized: 0 };\r\n}\r\n\r\nexport function createStore(): ISpaceStore {\r\n\tlet spaces: ISpaceDefinition[] = [];\r\n\r\n\tconst setSpaces = (newSpaces: ISpaceDefinition[]) => {\r\n\t\tspaces = newSpaces;\r\n\t};\r\n\r\n\tconst getSpace = (id: string) => {\r\n\t\treturn getSpaces().find((s) => s.id === id);\r\n\t};\r\n\r\n\tconst getSpaces = () => spaces;\r\n\r\n\tconst recalcSpaces = (parent: ISpaceDefinition) => {\r\n\t\tconst onlyUnique = (value: number, index: number, self: number[]) => {\r\n\t\t\treturn self.indexOf(value) === index;\r\n\t\t};\r\n\r\n\t\tconst addDefaultOrders = (spaces: ISpaceDefinition[]) => {\r\n\t\t\tlet result: ISpaceDefinition[] = [];\r\n\r\n\t\t\tanchorTypes.forEach((t) => {\r\n\t\t\t\tconst anchoredSpaces = spaces.filter((s) => s.anchor !== undefined && s.anchor === t);\r\n\t\t\t\tconst zIndices = anchoredSpaces.map((s) => s.zIndex).filter(onlyUnique);\r\n\t\t\t\tzIndices.forEach((i) => {\r\n\t\t\t\t\tconst anchoredSpacesInLayer = anchoredSpaces.filter((s) => s.zIndex === i);\r\n\t\t\t\t\tconst orderedSpaces = anchoredSpacesInLayer.filter((c) => c.order !== undefined);\r\n\t\t\t\t\tconst unorderedSpaces = anchoredSpacesInLayer.filter((c) => c.order === undefined);\r\n\t\t\t\t\tvar maxOrder = orderedSpaces.length > 0 ? orderedSpaces.map((a) => a.order!).reduce((a, b) => Math.max(a, b)) : 0;\r\n\t\t\t\t\tresult = [...result, ...[...orderedSpaces, ...unorderedSpaces.map((c, idx) => ({ ...c, ...{ order: maxOrder + idx + 1 } }))]];\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\treturn [...result, ...spaces.filter((s) => s.anchor === undefined)];\r\n\t\t};\r\n\r\n\t\tconst orderedSpaces = addDefaultOrders(parent.children);\r\n\t\tfor (var i = 0, len = orderedSpaces.length; i < len; i++) {\r\n\t\t\tconst space = orderedSpaces[i];\r\n\t\t\tlet changed = false;\r\n\r\n\t\t\tif (space.type === Type.Fill) {\r\n\t\t\t\tanchorUpdates(space).forEach((info) => {\r\n\t\t\t\t\tconst adjusted: SizeUnit[] = [];\r\n\t\t\t\t\tconst anchoredSpaces = parent.anchoredChildren(orderedSpaces, info.anchor, space.zIndex);\r\n\r\n\t\t\t\t\tanchoredSpaces.forEach((as) => {\r\n\t\t\t\t\t\tif (as.orientation === Orientation.Vertical) {\r\n\t\t\t\t\t\t\tif (as.height.size) {\r\n\t\t\t\t\t\t\t\tadjusted.push(as.height.size);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (as.height.resized) {\r\n\t\t\t\t\t\t\t\tadjusted.push(as.height.resized);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (as.width.size) {\r\n\t\t\t\t\t\t\t\tadjusted.push(as.width.size);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (as.width.resized) {\r\n\t\t\t\t\t\t\t\tadjusted.push(as.width.resized);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (info.update(adjusted)) {\r\n\t\t\t\t\t\tchanged = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else if (space.type === Type.Anchored) {\r\n\t\t\t\tconst adjusted: SizeUnit[] = [];\r\n\t\t\t\tconst anchoredSpaces = parent\r\n\t\t\t\t\t.anchoredChildren(orderedSpaces, space.anchor!, space.zIndex)\r\n\t\t\t\t\t.filter((s) => s.id !== space.id && s.order! <= space.order!);\r\n\r\n\t\t\t\tanchoredSpaces.forEach((as) => {\r\n\t\t\t\t\tif (as.orientation === Orientation.Vertical) {\r\n\t\t\t\t\t\tif (as.height.size) {\r\n\t\t\t\t\t\t\tadjusted.push(as.height.size);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (as.height.resized) {\r\n\t\t\t\t\t\t\tadjusted.push(as.height.resized);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (as.width.size) {\r\n\t\t\t\t\t\t\tadjusted.push(as.width.size);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (as.width.resized) {\r\n\t\t\t\t\t\t\tadjusted.push(as.width.resized);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (space.adjustEdge(adjusted)) {\r\n\t\t\t\t\tchanged = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (changed) {\r\n\t\t\t\tupdateStyleDefinition(space);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst store: ISpaceStore = {\r\n\t\tgetSpaces: getSpaces,\r\n\t\tgetSpace: getSpace,\r\n\t\taddSpace: (space) => {\r\n\t\t\tgetSpaces().push(space);\r\n\r\n\t\t\tif (space.parentId) {\r\n\t\t\t\tconst parentSpace = getSpace(space.parentId);\r\n\t\t\t\tif (parentSpace) {\r\n\t\t\t\t\tparentSpace.children.push(space);\r\n\t\t\t\t\trecalcSpaces(parentSpace);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tupdateStyleDefinition(space);\r\n\t\t},\r\n\t\tremoveSpace: (space) => {\r\n\t\t\tsetSpaces(getSpaces().filter((s) => s.id !== space.id));\r\n\r\n\t\t\tif (space.parentId) {\r\n\t\t\t\tconst parentSpace = getSpace(space.parentId);\r\n\t\t\t\tif (parentSpace) {\r\n\t\t\t\t\tparentSpace.children = parentSpace.children.filter((s) => s.id !== space.id);\r\n\t\t\t\t\trecalcSpaces(parentSpace);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tremoveStyleDefinition(space);\r\n\t\t},\r\n\t\tupdateStyles: (space) => {\r\n\t\t\tif (space.parentId) {\r\n\t\t\t\tconst parent = getSpace(space.parentId);\r\n\t\t\t\tif (parent) {\r\n\t\t\t\t\trecalcSpaces(parent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tupdateStyleDefinition(space);\r\n\t\t},\r\n\t\tupdateSpace: (space, props) => {\r\n\t\t\tconst {\r\n\t\t\t\ttype,\r\n\t\t\t\tanchor,\r\n\t\t\t\torder,\r\n\t\t\t\tzIndex,\r\n\t\t\t\tscrollable,\r\n\t\t\t\tposition,\r\n\t\t\t\tcenterContent,\r\n\t\t\t\tminimumSize,\r\n\t\t\t\tmaximumSize,\r\n\t\t\t\thandleSize,\r\n\t\t\t\ttouchHandleSize,\r\n\t\t\t\thandlePlacement,\r\n\t\t\t\tallowOverflow,\r\n\t\t\t} = props;\r\n\t\t\tconst canResizeLeft = (position && position.leftResizable) || false;\r\n\t\t\tconst canResizeRight = (position && position.rightResizable) || false;\r\n\t\t\tconst canResizeTop = (position && position.topResizable) || false;\r\n\t\t\tconst canResizeBottom = (position && position.bottomResizable) || false;\r\n\t\t\tconst canResizeTopLeft = (position && position.topLeftResizable) || false;\r\n\t\t\tconst canResizeTopRight = (position && position.topRightResizable) || false;\r\n\t\t\tconst canResizeBottomLeft = (position && position.bottomLeftResizable) || false;\r\n\t\t\tconst canResizeBottomRight = (position && position.bottomRightResizable) || false;\r\n\r\n\t\t\tlet changed = false;\r\n\r\n\t\t\tif (space.type !== type) {\r\n\t\t\t\tspace.type = type;\r\n\t\t\t\tspace.position = getPosition(type);\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.anchor !== anchor) {\r\n\t\t\t\tspace.anchor = anchor;\r\n\t\t\t\tspace.orientation = getOrientation(anchor);\r\n\t\t\t\tchanged = true;\r\n\r\n\t\t\t\tif (type === Type.Anchored) {\r\n\t\t\t\t\tif (anchor === AnchorType.Left) {\r\n\t\t\t\t\t\tspace.adjustEdge = space.adjustLeft;\r\n\t\t\t\t\t} else if (anchor === AnchorType.Top) {\r\n\t\t\t\t\t\tspace.adjustEdge = space.adjustTop;\r\n\t\t\t\t\t} else if (anchor === AnchorType.Right) {\r\n\t\t\t\t\t\tspace.adjustEdge = space.adjustRight;\r\n\t\t\t\t\t} else if (anchor === AnchorType.Bottom) {\r\n\t\t\t\t\t\tspace.adjustEdge = space.adjustBottom;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (space.left.size !== (position && position.left)) {\r\n\t\t\t\tspace.left.size = position && position.left;\r\n\t\t\t\tspace.left.resized = 0;\r\n\t\t\t\tspace.left.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.right.size !== (position && position.right)) {\r\n\t\t\t\tspace.right.size = position && position.right;\r\n\t\t\t\tspace.right.resized = 0;\r\n\t\t\t\tspace.right.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.top.size !== (position && position.top)) {\r\n\t\t\t\tspace.top.size = position && position.top;\r\n\t\t\t\tspace.top.resized = 0;\r\n\t\t\t\tspace.top.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.bottom.size !== (position && position.bottom)) {\r\n\t\t\t\tspace.bottom.size = position && position.bottom;\r\n\t\t\t\tspace.bottom.resized = 0;\r\n\t\t\t\tspace.bottom.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.width.size !== (position && position.width)) {\r\n\t\t\t\tspace.width.size = position && position.width;\r\n\t\t\t\tspace.width.resized = 0;\r\n\t\t\t\tspace.width.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.height.size !== (position && position.height)) {\r\n\t\t\t\tspace.height.size = position && position.height;\r\n\t\t\t\tspace.height.resized = 0;\r\n\t\t\t\tspace.height.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (coalesce(space.order, 0) !== coalesce(order, 0)) {\r\n\t\t\t\tspace.order = coalesce(order, 0)!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (coalesce(space.zIndex, 0) !== coalesce(zIndex, 0)) {\r\n\t\t\t\tspace.zIndex = coalesce(zIndex, 0)!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (coalesce(space.scrollable, false) !== coalesce(scrollable, false)) {\r\n\t\t\t\tspace.scrollable = coalesce(scrollable, false)!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.minimumSize !== minimumSize) {\r\n\t\t\t\tspace.minimumSize = minimumSize;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.maximumSize !== maximumSize) {\r\n\t\t\t\tspace.maximumSize = maximumSize;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (coalesce(space.centerContent, CenterType.None) !== coalesce(centerContent, CenterType.None)) {\r\n\t\t\t\tspace.centerContent = coalesce(centerContent, CenterType.None)!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.handleSize !== handleSize) {\r\n\t\t\t\tspace.handleSize = handleSize || spaceDefaults.handleSize!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.touchHandleSize !== touchHandleSize) {\r\n\t\t\t\tspace.touchHandleSize = touchHandleSize || spaceDefaults.touchHandleSize!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.handlePlacement !== handlePlacement) {\r\n\t\t\t\tspace.handlePlacement = handlePlacement || spaceDefaults.handlePlacement!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeBottom !== canResizeBottom) {\r\n\t\t\t\tspace.canResizeBottom = canResizeBottom;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeTop !== canResizeTop) {\r\n\t\t\t\tspace.canResizeTop = canResizeTop;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeLeft !== canResizeLeft) {\r\n\t\t\t\tspace.canResizeLeft = canResizeLeft;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeRight !== canResizeRight) {\r\n\t\t\t\tspace.canResizeRight = canResizeRight;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeTopLeft !== canResizeTopLeft) {\r\n\t\t\t\tspace.canResizeTopLeft = canResizeTopLeft;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeTopRight !== canResizeTopRight) {\r\n\t\t\t\tspace.canResizeTopRight = canResizeTopRight;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeBottomLeft !== canResizeBottomLeft) {\r\n\t\t\t\tspace.canResizeBottomLeft = canResizeBottomLeft;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeBottomRight !== canResizeBottomRight) {\r\n\t\t\t\tspace.canResizeBottomRight = canResizeBottomRight;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.allowOverflow !== allowOverflow) {\r\n\t\t\t\tspace.allowOverflow = allowOverflow || spaceDefaults.allowOverflow!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (changed) {\r\n\t\t\t\tif (space.parentId) {\r\n\t\t\t\t\tconst parentSpace = getSpace(space.parentId);\r\n\t\t\t\t\tif (parentSpace) {\r\n\t\t\t\t\t\trecalcSpaces(parentSpace);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tupdateStyleDefinition(space);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreateSpace: () => ({} as ISpaceDefinition),\r\n\t\tstartMouseResize: () => null,\r\n\t\tstartTouchResize: () => null,\r\n\t\tstartMouseDrag: () => null,\r\n\t\tstartTouchDrag: () => null,\r\n\t};\r\n\r\n\tconst resize = createResize(store);\r\n\tconst drag = createDrag(store);\r\n\r\n\tstore.createSpace = (parentId: string | undefined, props: ISpaceProps, update: () => void) => {\r\n\t\tconst { position, anchor, type, ...commonProps } = props;\r\n\t\tconst canResizeLeft = (position && position.rightResizable) || false;\r\n\t\tconst canResizeRight = (position && position.leftResizable) || false;\r\n\t\tconst canResizeTop = (position && position.bottomResizable) || false;\r\n\t\tconst canResizeBottom = (position && position.topResizable) || false;\r\n\t\tconst canResizeTopLeft = (position && position.topLeftResizable) || false;\r\n\t\tconst canResizeTopRight = (position && position.topRightResizable) || false;\r\n\t\tconst canResizeBottomLeft = (position && position.bottomLeftResizable) || false;\r\n\t\tconst canResizeBottomRight = (position && position.bottomRightResizable) || false;\r\n\r\n\t\tconst newSpace: ISpaceDefinition = {\r\n\t\t\t...spaceDefaults,\r\n\t\t\t...commonProps,\r\n\t\t\t...{\r\n\t\t\t\tstore: store,\r\n\t\t\t\tupdate: update,\r\n\t\t\t\tupdateParent: () => {\r\n\t\t\t\t\tif (parentId) {\r\n\t\t\t\t\t\tconst parentSpace = store.getSpace(parentId);\r\n\t\t\t\t\t\tif (parentSpace) {\r\n\t\t\t\t\t\t\tparentSpace.update();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tparentId: parentId,\r\n\t\t\t\tchildren: [],\r\n\t\t\t\tanchor: anchor,\r\n\t\t\t\ttype: type,\r\n\t\t\t\torientation: getOrientation(anchor),\r\n\t\t\t\tposition: getPosition(type),\r\n\t\t\t\tleft: sizeInfoDefault(position && position.left),\r\n\t\t\t\tright: sizeInfoDefault(position && position.right),\r\n\t\t\t\ttop: sizeInfoDefault(position && position.top),\r\n\t\t\t\tbottom: sizeInfoDefault(position && position.bottom),\r\n\t\t\t\twidth: sizeInfoDefault(position && position.width),\r\n\t\t\t\theight: sizeInfoDefault(position && position.height),\r\n\t\t\t\tcanResizeLeft: canResizeLeft,\r\n\t\t\t\tcanResizeRight: canResizeRight,\r\n\t\t\t\tcanResizeTop: canResizeTop,\r\n\t\t\t\tcanResizeBottom: canResizeBottom,\r\n\t\t\t\tcanResizeTopLeft: canResizeTopLeft,\r\n\t\t\t\tcanResizeTopRight: canResizeTopRight,\r\n\t\t\t\tcanResizeBottomLeft: canResizeBottomLeft,\r\n\t\t\t\tcanResizeBottomRight: canResizeBottomRight,\r\n\t\t\t},\r\n\t\t} as ISpaceDefinition;\r\n\r\n\t\tnewSpace.anchoredChildren = (children, chanchor, zIndex) => {\r\n\t\t\treturn children.filter((s) => s.type === Type.Anchored && s.anchor === chanchor && s.zIndex === zIndex);\r\n\t\t};\r\n\r\n\t\tnewSpace.adjustLeft = (adjusted) => {\r\n\t\t\tif (adjustmentsEqual(newSpace.left.adjusted, adjusted)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tnewSpace.left.adjusted = adjusted;\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tnewSpace.adjustRight = (adjusted) => {\r\n\t\t\tif (adjustmentsEqual(newSpace.right.adjusted, adjusted)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tnewSpace.right.adjusted = adjusted;\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tnewSpace.adjustTop = (adjusted) => {\r\n\t\t\tif (adjustmentsEqual(newSpace.top.adjusted, adjusted)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tnewSpace.top.adjusted = adjusted;\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tnewSpace.adjustBottom = (adjusted) => {\r\n\t\t\tif (adjustmentsEqual(newSpace.bottom.adjusted, adjusted)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tnewSpace.bottom.adjusted = adjusted;\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tif (type === Type.Anchored) {\r\n\t\t\tif (anchor === AnchorType.Left) {\r\n\t\t\t\tnewSpace.adjustEdge = newSpace.adjustLeft;\r\n\t\t\t} else if (anchor === AnchorType.Top) {\r\n\t\t\t\tnewSpace.adjustEdge = newSpace.adjustTop;\r\n\t\t\t} else if (anchor === AnchorType.Right) {\r\n\t\t\t\tnewSpace.adjustEdge = newSpace.adjustRight;\r\n\t\t\t} else if (anchor === AnchorType.Bottom) {\r\n\t\t\t\tnewSpace.adjustEdge = newSpace.adjustBottom;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newSpace;\r\n\t};\r\n\r\n\tstore.startMouseResize = (resizeType, space, event, onResizeEnd) => {\r\n\t\tresize.startResize(\r\n\t\t\tevent,\r\n\t\t\tresizeType,\r\n\t\t\tspace,\r\n\t\t\tEndEvent.Mouse,\r\n\t\t\tMoveEvent.Mouse,\r\n\t\t\t(e) => ({\r\n\t\t\t\tx: e.clientX,\r\n\t\t\t\ty: e.clientY,\r\n\t\t\t}),\r\n\t\t\tonResizeEnd,\r\n\t\t);\r\n\t};\r\n\r\n\tstore.startTouchResize = (resizeType, space, event, onResizeEnd) => {\r\n\t\tresize.startResize(\r\n\t\t\tevent,\r\n\t\t\tresizeType,\r\n\t\t\tspace,\r\n\t\t\tEndEvent.Touch,\r\n\t\t\tMoveEvent.Touch,\r\n\t\t\t(e) => ({\r\n\t\t\t\tx: e.touches[0].clientX,\r\n\t\t\t\ty: e.touches[0].clientY,\r\n\t\t\t}),\r\n\t\t\tonResizeEnd,\r\n\t\t);\r\n\t};\r\n\r\n\tstore.startMouseDrag = (space, event, onDragEnd) => {\r\n\t\tdrag.startDrag(\r\n\t\t\tevent,\r\n\t\t\tspace,\r\n\t\t\tEndEvent.Mouse,\r\n\t\t\tMoveEvent.Mouse,\r\n\t\t\t(e) => ({\r\n\t\t\t\tx: e.clientX,\r\n\t\t\t\ty: e.clientY,\r\n\t\t\t}),\r\n\t\t\tonDragEnd,\r\n\t\t);\r\n\t};\r\n\r\n\tstore.startTouchDrag = (space, event, onDragEnd) => {\r\n\t\tdrag.startDrag(\r\n\t\t\tevent,\r\n\t\t\tspace,\r\n\t\t\tEndEvent.Touch,\r\n\t\t\tMoveEvent.Touch,\r\n\t\t\t(e) => ({\r\n\t\t\t\tx: e.touches[0].clientX,\r\n\t\t\t\ty: e.touches[0].clientY,\r\n\t\t\t}),\r\n\t\t\tonDragEnd,\r\n\t\t);\r\n\t};\r\n\r\n\treturn store;\r\n}\r\n","import * as React from \"react\";\r\nimport { createStore } from \"./core\";\r\nimport {\r\n\tISpaceProps,\r\n\tISpaceStore,\r\n\tISpaceDefinition,\r\n\tResizeType,\r\n\tCenterType,\r\n\tISpaceContext,\r\n\tICommonProps,\r\n\tResizeMouseEvent,\r\n\tOnDragEnd,\r\n\tResizeTouchEvent,\r\n} from \"./core-types\";\r\nimport { coalesce, shortuuid } from \"./core-utils\";\r\nimport { ResizeSensor } from \"css-element-queries\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\n\r\n// WORKAROUND for React18 strict mode\r\n// https://blog.ag-grid.com/avoiding-react-18-double-mount/\r\nexport const useEffectOnce = (effect: () => void | (() => void)) => {\r\n\tconst destroyFunc = useRef<void | (() => void)>();\r\n\tconst effectCalled = useRef(false);\r\n\tconst renderAfterCalled = useRef(false);\r\n\tconst [_val, setVal] = useState<number>(0);\r\n\r\n\tif (effectCalled.current) {\r\n\t\trenderAfterCalled.current = true;\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t// only execute the effect first time around\r\n\t\tif (!effectCalled.current) {\r\n\t\t\tdestroyFunc.current = effect();\r\n\t\t\teffectCalled.current = true;\r\n\t\t}\r\n\r\n\t\t// this forces one render after the effect is run\r\n\t\tsetVal((val) => val + 1);\r\n\r\n\t\treturn () => {\r\n\t\t\t// if the comp didn't render since the useEffect was called,\r\n\t\t\t// we know it's the dummy React cycle\r\n\t\t\tif (!renderAfterCalled.current) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (destroyFunc.current) {\r\n\t\t\t\tdestroyFunc.current();\r\n\t\t\t}\r\n\t\t};\r\n\t}, []);\r\n};\r\n\r\nexport const ParentContext = React.createContext<string | undefined>(undefined);\r\nexport const DOMRectContext = React.createContext<DOMRect | undefined>(undefined);\r\nexport const LayerContext = React.createContext<number | undefined>(undefined);\r\nexport const OptionsContext = React.createContext<IReactSpacesOptions>({});\r\nexport const currentStore = createStore();\r\n\r\nexport const commonProps = {\r\n\tid: PropTypes.string,\r\n\tclassName: PropTypes.string,\r\n\tstyle: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\r\n\tas: PropTypes.any,\r\n\tcenterContent: PropTypes.oneOf([CenterType.None, CenterType.Vertical, CenterType.HorizontalVertical]),\r\n\tzIndex: PropTypes.number,\r\n\tscrollable: PropTypes.bool,\r\n\ttrackSize: PropTypes.bool,\r\n\tallowOverflow: PropTypes.bool,\r\n\thandleRender: PropTypes.func,\r\n\tonClick: PropTypes.func,\r\n\tonDoubleClick: PropTypes.func,\r\n\tonMouseDown: PropTypes.func,\r\n\tonMouseEnter: PropTypes.func,\r\n\tonMouseLeave: PropTypes.func,\r\n\tonMouseMove: PropTypes.func,\r\n\tonTouchStart: PropTypes.func,\r\n\tonTouchMove: PropTypes.func,\r\n\tonTouchEnd: PropTypes.func,\r\n};\r\n\r\nexport interface IReactSpacesOptions {\r\n\tdebug?: boolean;\r\n}\r\n\r\nexport interface IReactEvents {\r\n\tonClick?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonDoubleClick?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonMouseDown?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonMouseEnter?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonMouseLeave?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonMouseMove?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonTouchStart?: (event: React.TouchEvent<HTMLElement>) => void;\r\n\tonTouchMove?: (event: React.TouchEvent<HTMLElement>) => void;\r\n\tonTouchEnd?: (event: React.TouchEvent<HTMLElement>) => void;\r\n}\r\n\r\nexport interface IReactSpaceCommonProps extends ICommonProps, IReactEvents {\r\n\tstyle?: React.CSSProperties;\r\n\tas?: keyof React.ReactDOM | React.ComponentType<ICommonProps>;\r\n\tchildren?: React.ReactNode;\r\n}\r\n\r\nexport interface IReactSpaceInnerProps extends IReactSpaceCommonProps, ISpaceProps, IReactEvents {\r\n\thandleRender?: (handleProps: IResizeHandleProps) => React.ReactNode;\r\n}\r\n\r\nexport interface IReactSpacesOptions {\r\n\tdebug?: boolean;\r\n}\r\n\r\nexport function useForceUpdate() {\r\n\tconst [, setTick] = React.useState(0);\r\n\treturn React.useCallback(() => {\r\n\t\tsetTick((tick) => tick + 1);\r\n\t}, []);\r\n}\r\n\r\nexport function useUniqueId() {\r\n\tif (SSR_SUPPORT_ENABLED) {\r\n\t\tif (React.version.startsWith(\"18\")) {\r\n\t\t\treturn `s${React.useId().replace(/\\:/g, \"\")}`;\r\n\t\t}\r\n\r\n\t\tif ((React as any).unstable_useOpaqueIdentifier) {\r\n\t\t\treturn `s${(React as any).unstable_useOpaqueIdentifier().replace(/\\:/g, \"\")}`;\r\n\t\t}\r\n\t}\r\n\r\n\treturn `s${shortuuid()}`;\r\n}\r\n\r\nexport function useSpace(props: IReactSpaceInnerProps) {\r\n\tconst store = currentStore;\r\n\tconst update = useForceUpdate();\r\n\tconst parent = React.useContext(ParentContext);\r\n\tconst layer = React.useContext(LayerContext);\r\n\tconst { debug } = React.useContext(OptionsContext);\r\n\tconst uniqueId = useUniqueId();\r\n\tconst [spaceId] = React.useState(props.id || uniqueId);\r\n\tconst elementRef = React.useRef<HTMLElement>();\r\n\tconst resizeSensor = React.useRef<ResizeSensor>();\r\n\tconst [domRect, setDomRect] = React.useState<DOMRect>();\r\n\r\n\tlet space = store.getSpace(spaceId)!;\r\n\r\n\tif (debug) {\r\n\t\tconsole.table(store.getSpaces());\r\n\t}\r\n\r\n\tconst parsedProps = {\r\n\t\t...props,\r\n\t\t...{\r\n\t\t\tid: spaceId,\r\n\t\t\tzIndex: coalesce(props.zIndex, layer),\r\n\t\t},\r\n\t};\r\n\r\n\tif (!space) {\r\n\t\tspace = store.createSpace(parent, parsedProps, update);\r\n\t\tstore.addSpace(space);\r\n\t} else {\r\n\t\tstore.updateSpace(space, parsedProps);\r\n\t}\r\n\r\n\tconst resizeHandles = useSpaceResizeHandles(store, space);\r\n\r\n\tuseEffectOnce(() => {\r\n\t\tconst rect = elementRef.current ? elementRef.current.getBoundingClientRect() : new DOMRect();\r\n\t\tspace.dimension = {\r\n\t\t\t...rect,\r\n\t\t\t...{\r\n\t\t\t\tleft: Math.floor(rect.left),\r\n\t\t\t\ttop: Math.floor(rect.top),\r\n\t\t\t\tright: Math.floor(rect.right),\r\n\t\t\t\tbottom: Math.floor(rect.bottom),\r\n\t\t\t\twidth: Math.floor(rect.width),\r\n\t\t\t\theight: Math.floor(rect.height),\r\n\t\t\t\tx: Math.floor(rect.x),\r\n\t\t\t\ty: Math.floor(rect.y),\r\n\t\t\t},\r\n\t\t};\r\n\t\tsetDomRect(space.dimension);\r\n\r\n\t\tif (props.trackSize) {\r\n\t\t\tresizeSensor.current = new ResizeSensor(elementRef.current!, (size) => {\r\n\t\t\t\tspace.dimension = {\r\n\t\t\t\t\t...rect,\r\n\t\t\t\t\t...{\r\n\t\t\t\t\t\twidth: Math.floor(size.width),\r\n\t\t\t\t\t\theight: Math.floor(size.height),\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tsetDomRect(space.dimension);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tresizeSensor.current && resizeSensor.current.detach();\r\n\t\t\tstore.removeSpace(space);\r\n\t\t};\r\n\t});\r\n\r\n\treturn { space: space, resizeHandles: resizeHandles, domRect: domRect, elementRef: elementRef };\r\n}\r\n\r\nexport interface IResizeHandleProps {\r\n\tid?: string;\r\n\tkey: string | number;\r\n\tclassName?: string;\r\n\tonMouseDown: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonTouchStart: (e: React.TouchEvent<HTMLElement>) => void;\r\n}\r\n\r\nconst resizeSetup = [\r\n\t{ id: \"ml\", className: \"resize-left\", resizeType: ResizeType.Left, condition: (space: ISpaceDefinition) => space.canResizeLeft },\r\n\t{ id: \"mr\", className: \"resize-right\", resizeType: ResizeType.Right, condition: (space: ISpaceDefinition) => space.canResizeRight },\r\n\t{ id: \"mt\", className: \"resize-top\", resizeType: ResizeType.Top, condition: (space: ISpaceDefinition) => space.canResizeTop },\r\n\t{ id: \"mb\", className: \"resize-bottom\", resizeType: ResizeType.Bottom, condition: (space: ISpaceDefinition) => space.canResizeBottom },\r\n\t{ id: \"mtl\", className: \"resize-top-left\", resizeType: ResizeType.TopLeft, condition: (space: ISpaceDefinition) => space.canResizeTopLeft },\r\n\t{ id: \"mtr\", className: \"resize-top-right\", resizeType: ResizeType.TopRight, condition: (space: ISpaceDefinition) => space.canResizeTopRight },\r\n\t{\r\n\t\tid: \"mbl\",\r\n\t\tclassName: \"resize-bottom-left\",\r\n\t\tresizeType: ResizeType.BottomLeft,\r\n\t\tcondition: (space: ISpaceDefinition) => space.canResizeBottomLeft,\r\n\t},\r\n\t{\r\n\t\tid: \"mbr\",\r\n\t\tclassName: \"resize-bottom-right\",\r\n\t\tresizeType: ResizeType.BottomRight,\r\n\t\tcondition: (space: ISpaceDefinition) => space.canResizeBottomRight,\r\n\t},\r\n];\r\n\r\nexport function useSpaceResizeHandles(store: ISpaceStore, space: ISpaceDefinition) {\r\n\tconst mouseHandles: IResizeHandleProps[] = [];\r\n\r\n\tconst setupResizeHandle = (id: string, className: string, resizeType: ResizeType) => {\r\n\t\tmouseHandles.push({\r\n\t\t\tid: `${space.id}-${id}`,\r\n\t\t\tkey: id,\r\n\t\t\tclassName: `spaces-resize-handle ${className}`,\r\n\t\t\tonMouseDown: (event) => store.startMouseResize(resizeType, space, event),\r\n\t\t\tonTouchStart: (event) => store.startTouchResize(resizeType, space, event),\r\n\t\t});\r\n\t};\r\n\r\n\tresizeSetup.forEach((resizeItem) => {\r\n\t\tif (resizeItem.condition(space)) {\r\n\t\t\tsetupResizeHandle(resizeItem.id, resizeItem.className, resizeItem.resizeType);\r\n\t\t}\r\n\t});\r\n\r\n\treturn {\r\n\t\tmouseHandles,\r\n\t};\r\n}\r\n\r\nexport function useCurrentSpace() {\r\n\tconst store = currentStore;\r\n\tconst spaceId = React.useContext(ParentContext);\r\n\r\n\tconst space = spaceId ? store.getSpace(spaceId) : undefined;\r\n\r\n\tconst domRect = React.useContext(DOMRectContext);\r\n\tconst layer = React.useContext(LayerContext);\r\n\tconst onMouseDrag = React.useCallback(\r\n\t\t(e: ResizeMouseEvent, onDragEnd: OnDragEnd | undefined) => (space ? store.startMouseDrag(space, e, onDragEnd) : null),\r\n\t\t[spaceId],\r\n\t);\r\n\tconst onTouchDrag = React.useCallback(\r\n\t\t(e: ResizeTouchEvent, onDragEnd: OnDragEnd | undefined) => (space ? store.startTouchDrag(space, e, onDragEnd) : null),\r\n\t\t[spaceId],\r\n\t);\r\n\tconst onForceUpdate = React.useCallback(() => (space ? store.updateStyles(space) : null), [spaceId]);\r\n\r\n\tconst defaults = { width: 0, height: 0, x: 0, y: 0 };\r\n\tconst size = {\r\n\t\t...defaults,\r\n\t\t...domRect,\r\n\t};\r\n\r\n\treturn {\r\n\t\tsize: size,\r\n\t\tlayer: layer || 0,\r\n\t\tstartMouseDrag: onMouseDrag,\r\n\t\tstartTouchDrag: onTouchDrag,\r\n\t\tforceUpdate: onForceUpdate,\r\n\t} as ISpaceContext;\r\n}\r\n\r\nexport let SSR_SUPPORT_ENABLED = false;\r\nexport function enabledSsrSupport() {\r\n\tSSR_SUPPORT_ENABLED = true;\r\n}\r\n","import * as React from \"react\";\r\n\r\ninterface IProps {\r\n\tchildren?: React.ReactNode;\r\n}\r\n\r\nexport const Centered: React.FC<IProps> = (props) => <div className={`spaces-centered`}>{props.children}</div>;\r\n","import * as React from \"react\";\r\n\r\ninterface IProps {\r\n\tchildren?: React.ReactNode;\r\n}\r\n\r\nexport const CenteredVertically: React.FC<IProps> = (props) => <div className={`spaces-centered-vertically`}>{props.children}</div>;\r\n","import { CenterType, ResizeHandlePlacement, AnchorType, Type } from \"../core-types\";\r\nimport {\r\n\tuseSpace,\r\n\tParentContext,\r\n\tLayerContext,\r\n\tDOMRectContext,\r\n\tIReactSpaceInnerProps,\r\n\tuseEffectOnce,\r\n\tSSR_SUPPORT_ENABLED,\r\n\tuseUniqueId,\r\n} from \"../core-react\";\r\nimport * as React from \"react\";\r\nimport { Centered } from \"./Centered\";\r\nimport { CenteredVertically } from \"./CenteredVertically\";\r\nimport { isServer, updateStyleDefinition } from \"../core-utils\";\r\n\r\nfunction applyCentering(children: React.ReactNode, centerType: CenterType | undefined) {\r\n\tswitch (centerType) {\r\n\t\tcase CenterType.Vertical:\r\n\t\t\treturn <CenteredVertically>{children}</CenteredVertically>;\r\n\t\tcase CenterType.HorizontalVertical:\r\n\t\t\treturn <Centered>{children}</Centered>;\r\n\t}\r\n\treturn children;\r\n}\r\n\r\nexport class Space extends React.Component<IReactSpaceInnerProps> {\r\n\tpublic render() {\r\n\t\treturn <SpaceInner {...this.props} wrapperInstance={this} />;\r\n\t}\r\n}\r\n\r\nconst SpaceInner: React.FC<IReactSpaceInnerProps & { wrapperInstance: Space }> = (props) => {\r\n\tlet idToUse = props.id ?? props.wrapperInstance[\"_react_spaces_uniqueid\"];\r\n\tconst [initialRender, setInitialRender] = React.useState(SSR_SUPPORT_ENABLED ? true : false);\r\n\r\n\tconst uniqueId = useUniqueId();\r\n\r\n\tif (!idToUse) {\r\n\t\tprops.wrapperInstance[\"_react_spaces_uniqueid\"] = uniqueId;\r\n\t\tidToUse = props.wrapperInstance[\"_react_spaces_uniqueid\"];\r\n\t}\r\n\r\n\tconst {\r\n\t\tstyle,\r\n\t\tclassName,\r\n\t\tonClick,\r\n\t\tonDoubleClick,\r\n\t\tonMouseDown,\r\n\t\tonMouseEnter,\r\n\t\tonMouseLeave,\r\n\t\tonMouseMove,\r\n\t\tonTouchStart,\r\n\t\tonTouchMove,\r\n\t\tonTouchEnd,\r\n\t\tchildren,\r\n\t\thandleRender,\r\n\t} = props;\r\n\r\n\tconst events = {\r\n\t\tonClick: onClick,\r\n\t\tonDoubleClick: onDoubleClick,\r\n\t\tonMouseDown: onMouseDown,\r\n\t\tonMouseEnter: onMouseEnter,\r\n\t\tonMouseLeave: onMouseLeave,\r\n\t\tonMouseMove: onMouseMove,\r\n\t\tonTouchStart: onTouchStart,\r\n\t\tonTouchMove: onTouchMove,\r\n\t\tonTouchEnd: onTouchEnd,\r\n\t};\r\n\r\n\tconst { space, domRect, elementRef, resizeHandles } = useSpace({\r\n\t\t...props,\r\n\t\t...{ id: idToUse },\r\n\t});\r\n\r\n\tif (SSR_SUPPORT_ENABLED && !isServer()) {\r\n\t\tconst preRenderedStyle = document.getElementById(`style_${idToUse}_ssr`);\r\n\t\tif (preRenderedStyle) {\r\n\t\t\tspace.ssrStyle = preRenderedStyle.innerHTML;\r\n\t\t}\r\n\t\tupdateStyleDefinition(space);\r\n\t}\r\n\r\n\tuseEffectOnce(() => {\r\n\t\tspace.element = elementRef.current!;\r\n\r\n\t\tif (SSR_SUPPORT_ENABLED) {\r\n\t\t\tif (initialRender) {\r\n\t\t\t\tsetInitialRender(false);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst userClasses = className ? className.split(\" \").map((c) => c.trim()) : [];\r\n\r\n\tconst outerClasses = [\r\n\t\t...[\"spaces-space\", space.children.find((s) => s.resizing) ? \"spaces-resizing\" : undefined],\r\n\t\t...[space.type === Type.Fixed ? \"spaces-fixedsize-layout\" : undefined],\r\n\t\t...[space.type === Type.ViewPort ? \"spaces-fullpage-layout\" : undefined],\r\n\t\t...userClasses.map((c) => `${c}-container`),\r\n\t].filter((c) => c);\r\n\r\n\tconst innerClasses = [...[\"spaces-space-inner\"], ...userClasses];\r\n\r\n\tlet innerStyle = style;\r\n\tif (space.handlePlacement === ResizeHandlePlacement.Inside) {\r\n\t\tinnerStyle = {\r\n\t\t\t...style,\r\n\t\t\t...{\r\n\t\t\t\tleft: space.anchor === AnchorType.Right ? space.handleSize : undefined,\r\n\t\t\t\tright: space.anchor === AnchorType.Left ? space.handleSize : undefined,\r\n\t\t\t\ttop: space.anchor === AnchorType.Bottom ? space.handleSize : undefined,\r\n\t\t\t\tbottom: space.anchor === AnchorType.Top ? space.handleSize : undefined,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tconst centeredContent = applyCentering(children, props.centerContent);\r\n\r\n\tconst outerProps = {\r\n\t\t...{\r\n\t\t\tid: space.id,\r\n\t\t\tref: elementRef,\r\n\t\t\tclassName: outerClasses.join(\" \"),\r\n\t\t},\r\n\t\t...events,\r\n\t} as any;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{resizeHandles.mouseHandles.map((handleProps) => handleRender?.(handleProps) || <div {...handleProps} />)}\r\n\t\t\t{SSR_SUPPORT_ENABLED && space.ssrStyle && initialRender && <style id={`style_${space.id}_ssr`}>{space.ssrStyle}</style>}\r\n\t\t\t{React.createElement(\r\n\t\t\t\tprops.as || \"div\",\r\n\t\t\t\touterProps,\r\n\t\t\t\t<div className={innerClasses.join(\" \")} style={innerStyle}>\r\n\t\t\t\t\t<ParentContext.Provider value={space.id}>\r\n\t\t\t\t\t\t<LayerContext.Provider value={undefined}>\r\n\t\t\t\t\t\t\t<DOMRectContext.Provider value={domRect}>{centeredContent}</DOMRectContext.Provider>\r\n\t\t\t\t\t\t</LayerContext.Provider>\r\n\t\t\t\t\t</ParentContext.Provider>\r\n\t\t\t\t</div>,\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n","import { SizeUnit, Type, AnchorType, ResizeHandlePlacement } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { commonProps, IReactSpaceCommonProps, IResizeHandleProps } from \"../core-react\";\r\n\r\nexport interface IResizableProps extends IReactSpaceCommonProps {\r\n\tsize: SizeUnit;\r\n\torder?: number;\r\n\thandleSize?: number;\r\n\ttouchHandleSize?: number;\r\n\thandlePlacement?: ResizeHandlePlacement;\r\n\thandleRender?: (handleProps: IResizeHandleProps) => React.ReactNode;\r\n\tminimumSize?: number;\r\n\tmaximumSize?: number;\r\n\tonResizeStart?: () => void | boolean;\r\n\tonResizeEnd?: (newSize: SizeUnit) => void;\r\n}\r\n\r\nexport const resizableProps = {\r\n\t...commonProps,\r\n\t...{\r\n\t\tsize: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\t\torder: PropTypes.number,\r\n\t\thandleSize: PropTypes.number,\r\n\t\ttouchHandleSize: PropTypes.number,\r\n\t\thandlePlacement: PropTypes.oneOf([ResizeHandlePlacement.Inside, ResizeHandlePlacement.OverlayBoundary, ResizeHandlePlacement.OverlayInside]),\r\n\t\thandleRender: PropTypes.func,\r\n\t\tminimumSize: PropTypes.number,\r\n\t\tmaximumSize: PropTypes.number,\r\n\t\tonResizeStart: PropTypes.func,\r\n\t\tonResizeEnd: PropTypes.func,\r\n\t},\r\n};\r\n\r\nexport interface IAnchorProps extends IResizableProps {\r\n\tresizable?: boolean;\r\n}\r\n\r\nexport const anchoredProps = {\r\n\t...resizableProps,\r\n\t...{\r\n\t\tresizable: PropTypes.bool,\r\n\t},\r\n};\r\n\r\nexport const LeftResizable: React.FC<IResizableProps> = ({ children, size, ...props }) => (\r\n\t<Space {...props} type={Type.Anchored} anchor={AnchorType.Left} position={{ left: 0, top: 0, bottom: 0, rightResizable: true, width: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nLeftResizable.propTypes = resizableProps;\r\n\r\nexport const Left: React.FC<IAnchorProps> = ({ size, children, resizable, ...commonProps }) => (\r\n\t<Space\r\n\t\t{...commonProps}\r\n\t\ttype={Type.Anchored}\r\n\t\tanchor={AnchorType.Left}\r\n\t\tposition={{ left: 0, top: 0, bottom: 0, rightResizable: resizable, width: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nLeft.propTypes = anchoredProps;\r\n\r\nexport const TopResizable: React.FC<IResizableProps> = ({ children, size, ...props }) => (\r\n\t<Space {...props} type={Type.Anchored} anchor={AnchorType.Top} position={{ left: 0, top: 0, right: 0, bottomResizable: true, height: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nTopResizable.propTypes = resizableProps;\r\n\r\nexport const Top: React.FC<IAnchorProps> = ({ size, children, resizable, ...commonProps }) => (\r\n\t<Space\r\n\t\t{...commonProps}\r\n\t\ttype={Type.Anchored}\r\n\t\tanchor={AnchorType.Top}\r\n\t\tposition={{ left: 0, top: 0, right: 0, bottomResizable: resizable, height: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nTop.propTypes = anchoredProps;\r\n\r\nexport const RightResizable: React.FC<IResizableProps> = ({ children, size, ...props }) => (\r\n\t<Space {...props} type={Type.Anchored} anchor={AnchorType.Right} position={{ bottom: 0, top: 0, right: 0, leftResizable: true, width: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nRightResizable.propTypes = resizableProps;\r\n\r\nexport const Right: React.FC<IAnchorProps> = ({ size, children, resizable, ...commonProps }) => (\r\n\t<Space\r\n\t\t{...commonProps}\r\n\t\ttype={Type.Anchored}\r\n\t\tanchor={AnchorType.Right}\r\n\t\tposition={{ bottom: 0, top: 0, right: 0, leftResizable: resizable, width: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nRight.propTypes = anchoredProps;\r\n\r\nexport const BottomResizable: React.FC<IResizableProps> = ({ children, size, ...props }) => (\r\n\t<Space {...props} type={Type.Anchored} anchor={AnchorType.Bottom} position={{ bottom: 0, left: 0, right: 0, topResizable: true, height: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nBottomResizable.propTypes = resizableProps;\r\n\r\nexport const Bottom: React.FC<IAnchorProps> = ({ size, children, resizable, ...commonProps }) => (\r\n\t<Space\r\n\t\t{...commonProps}\r\n\t\ttype={Type.Anchored}\r\n\t\tanchor={AnchorType.Bottom}\r\n\t\tposition={{ bottom: 0, left: 0, right: 0, topResizable: resizable, height: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nBottom.propTypes = anchoredProps;\r\n","import { Type, SizeUnit, IPositionalProps, AnchorType, ResizeType } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { IReactSpaceCommonProps } from \"../core-react\";\r\nimport { anchoredProps, IAnchorProps } from \"./Anchored\";\r\nimport { omit } from \"../core-utils\";\r\n\r\ntype ICustomProps = Omit<IReactSpaceCommonProps & IAnchorProps, \"size\"> & {\r\n\ttype?: Type;\r\n\r\n\t// Anchored\r\n\tanchor?: AnchorType;\r\n\tanchorSize?: SizeUnit;\r\n\r\n\t// Positioned\r\n\tleft?: SizeUnit | undefined;\r\n\ttop?: SizeUnit | undefined;\r\n\tright?: SizeUnit | undefined;\r\n\tbottom?: SizeUnit | undefined;\r\n\twidth?: SizeUnit | undefined;\r\n\theight?: SizeUnit | undefined;\r\n\tresizeTypes?: ResizeType[];\r\n};\r\n\r\nconst customProps = omit(\r\n\t{\r\n\t\t...anchoredProps,\r\n\t\t...{\r\n\t\t\ttype: PropTypes.oneOf([Type.Positioned, Type.Fill, Type.Anchored]),\r\n\r\n\t\t\tanchor: PropTypes.oneOf([AnchorType.Left, AnchorType.Top, AnchorType.Right, AnchorType.Bottom]),\r\n\t\t\tanchorSize: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\r\n\t\t\tleft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\ttop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\tright: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\tbottom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\twidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\theight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\tresizeTypes: PropTypes.array,\r\n\t\t},\r\n\t},\r\n\t\"size\",\r\n);\r\n\r\nexport const Custom: React.FC<ICustomProps> = ({\r\n\tchildren,\r\n\ttype,\r\n\tleft,\r\n\ttop,\r\n\tright,\r\n\tbottom,\r\n\twidth,\r\n\theight,\r\n\tanchorSize,\r\n\tanchor,\r\n\tresizable,\r\n\tresizeTypes,\r\n\t...props\r\n}) => {\r\n\tlet position: IPositionalProps;\r\n\ttype = type || Type.Fill;\r\n\r\n\tif (type === Type.Positioned) {\r\n\t\tposition = {\r\n\t\t\tleft: left,\r\n\t\t\ttop: top,\r\n\t\t\tright: right,\r\n\t\t\tbottom: bottom,\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\tleftResizable: resizeTypes && (resizeTypes.includes(ResizeType.Left) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\ttopResizable: resizeTypes && (resizeTypes.includes(ResizeType.Top) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\trightResizable: resizeTypes && (resizeTypes.includes(ResizeType.Right) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\tbottomResizable: resizeTypes && (resizeTypes.includes(ResizeType.Bottom) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\ttopLeftResizable: resizeTypes && (resizeTypes.includes(ResizeType.TopLeft) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\ttopRightResizable: resizeTypes && (resizeTypes.includes(ResizeType.TopRight) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\tbottomLeftResizable: resizeTypes && (resizeTypes.includes(ResizeType.BottomLeft) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\tbottomRightResizable: resizeTypes && (resizeTypes.includes(ResizeType.BottomRight) || resizeTypes.includes(ResizeType.All)),\r\n\t\t};\r\n\t} else {\r\n\t\tif (anchor === AnchorType.Left) {\r\n\t\t\tposition = { left: 0, top: 0, bottom: 0, width: anchorSize, rightResizable: resizable };\r\n\t\t\ttype = Type.Anchored;\r\n\t\t} else if (anchor === AnchorType.Right) {\r\n\t\t\tposition = { right: 0, top: 0, bottom: 0, width: anchorSize, leftResizable: resizable };\r\n\t\t\ttype = Type.Anchored;\r\n\t\t} else if (anchor === AnchorType.Top) {\r\n\t\t\tposition = { left: 0, top: 0, right: 0, height: anchorSize, bottomResizable: resizable };\r\n\t\t\ttype = Type.Anchored;\r\n\t\t} else if (anchor === AnchorType.Bottom) {\r\n\t\t\tposition = { left: 0, bottom: 0, right: 0, height: anchorSize, topResizable: resizable };\r\n\t\t\ttype = Type.Anchored;\r\n\t\t} else {\r\n\t\t\tposition = {\r\n\t\t\t\tleft: 0,\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tbottom: 0,\r\n\t\t\t\tright: 0,\r\n\t\t\t};\r\n\t\t\ttype = Type.Fill;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Space {...props} type={type} anchor={anchor} position={position}>\r\n\t\t\t{children}\r\n\t\t</Space>\r\n\t);\r\n};\r\n\r\nCustom.propTypes = customProps;\r\n","import { Type } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport { commonProps, IReactSpaceCommonProps } from \"../core-react\";\r\n\r\nexport const Fill: React.FC<IReactSpaceCommonProps> = (props) => (\r\n\t<Space {...props} type={Type.Fill} position={{ left: 0, top: 0, right: 0, bottom: 0 }}>\r\n\t\t{props.children}\r\n\t</Space>\r\n);\r\n\r\nFill.propTypes = commonProps;\r\n","import { SizeUnit, Type } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { commonProps, IReactSpaceCommonProps } from \"../core-react\";\r\n\r\ninterface IFixedProps extends IReactSpaceCommonProps {\r\n\twidth?: SizeUnit;\r\n\theight: SizeUnit;\r\n}\r\n\r\nexport const Fixed: React.FC<IFixedProps> = ({ width, height, children, ...commonProps }) => (\r\n\t<Space {...commonProps} type={Type.Fixed} position={{ width: width, height: height }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nFixed.propTypes = {\r\n\t...commonProps,\r\n\t...{\r\n\t\twidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\theight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\t},\r\n};\r\n","import * as React from \"react\";\r\nimport { LayerContext } from \"../core-react\";\r\nimport * as PropTypes from \"prop-types\";\r\n\r\ninterface IProps {\r\n\tzIndex: number;\r\n\tchildren?: React.ReactNode;\r\n}\r\n\r\nexport const Layer: React.FC<IProps> = (props) => <LayerContext.Provider value={props.zIndex}>{props.children}</LayerContext.Provider>;\r\n\r\nLayer.propTypes = {\r\n\tzIndex: PropTypes.number.isRequired,\r\n};\r\n","import { Type, SizeUnit, ResizeType } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { commonProps, IReactSpaceCommonProps } from \"../core-react\";\r\n\r\ninterface IPositionedProps extends IReactSpaceCommonProps {\r\n\tleft?: SizeUnit;\r\n\ttop?: SizeUnit;\r\n\tright?: SizeUnit;\r\n\tbottom?: SizeUnit;\r\n\twidth?: SizeUnit;\r\n\theight?: SizeUnit;\r\n\tresizable?: ResizeType[];\r\n\tonResizeStart?: () => void | boolean;\r\n\tonResizeEnd?: (newSize: SizeUnit) => void;\r\n}\r\n\r\nexport const Positioned: React.FC<IPositionedProps> = ({ left, top, right, bottom, width, height, resizable, ...props }) => {\r\n\tconst resizeTypes = resizable || [];\r\n\r\n\treturn (\r\n\t\t<Space\r\n\t\t\t{...props}\r\n\t\t\ttype={Type.Positioned}\r\n\t\t\tposition={{\r\n\t\t\t\tleft: left,\r\n\t\t\t\ttop: top,\r\n\t\t\t\tright: right,\r\n\t\t\t\tbottom: bottom,\r\n\t\t\t\tleftResizable: resizeTypes.includes(ResizeType.Left) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\ttopResizable: resizeTypes.includes(ResizeType.Top) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\trightResizable: resizeTypes.includes(ResizeType.Right) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\tbottomResizable: resizeTypes.includes(ResizeType.Bottom) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\ttopLeftResizable: resizeTypes.includes(ResizeType.TopLeft) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\ttopRightResizable: resizeTypes.includes(ResizeType.TopRight) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\tbottomLeftResizable: resizeTypes.includes(ResizeType.BottomLeft) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\tbottomRightResizable: resizeTypes.includes(ResizeType.BottomRight) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\twidth: width,\r\n\t\t\t\theight: height,\r\n\t\t\t}}>\r\n\t\t\t{props.children}\r\n\t\t</Space>\r\n\t);\r\n};\r\n\r\nPositioned.propTypes = {\r\n\t...commonProps,\r\n\t...{\r\n\t\tleft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\ttop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\tright: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\tbottom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\twidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\theight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\tresizable: PropTypes.array,\r\n\t},\r\n};\r\n","import * as React from \"react\";\r\nimport { DOMRectContext } from \"../core-react\";\r\n\r\ninterface ISpaceInfoProps {\r\n\tchildren: (info: DOMRect) => JSX.Element;\r\n}\r\n\r\n/**\r\n * @deprecated use useCurrentSpace() hook instead\r\n */\r\nexport const Info: React.FC<ISpaceInfoProps> = (props) => {\r\n\tconst domRect = React.useContext(DOMRectContext);\r\n\r\n\tif (domRect) {\r\n\t\treturn props.children(domRect);\r\n\t}\r\n\r\n\treturn props.children({ left: 0, top: 0, right: 0, bottom: 0, width: 0, height: 0, x: 0, y: 0, toJSON: () => \"\" });\r\n};\r\n","import { Type, SizeUnit } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { commonProps, IReactSpaceCommonProps } from \"../core-react\";\r\n\r\ninterface IViewPortProps extends IReactSpaceCommonProps {\r\n\tleft?: SizeUnit;\r\n\tright?: SizeUnit;\r\n\ttop?: SizeUnit;\r\n\tbottom?: SizeUnit;\r\n}\r\n\r\nexport const ViewPort: React.FC<IViewPortProps> = ({ left, top, right, bottom, children, ...commonProps }) => (\r\n\t<Space {...commonProps} type={Type.ViewPort} position={{ left: left || 0, top: top || 0, right: right || 0, bottom: bottom || 0 }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nViewPort.propTypes = {\r\n\t...commonProps,\r\n\t...{\r\n\t\tleft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\ttop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\tright: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\tbottom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t},\r\n};\r\n","import * as React from \"react\";\nimport { enabledSsrSupport } from \"../core-react\";\nimport css from \"../styles.css\";\n\nexport const SSR: React.FC<{ children?: React.ReactNode }> = ({ children }) => {\n\tenabledSsrSupport();\n\treturn (\n\t\t<>\n\t\t\t<style dangerouslySetInnerHTML={{ __html: css }} />\n\t\t\t{children}\n\t\t</>\n\t);\n};\n","import * as React from \"react\";\r\nimport { IReactSpacesOptions, OptionsContext } from \"../core-react\";\r\n\r\ninterface IProps extends IReactSpacesOptions {\r\n\tchildren?: React.ReactNode;\r\n}\r\n\r\nexport const Options: React.FC<IProps> = ({ children, ...opts }) => {\r\n\treturn <OptionsContext.Provider value={opts}>{children}</OptionsContext.Provider>;\r\n};\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}